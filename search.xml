<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Spring3.Xå­¦ä¹ ç¬”è®°2-Beançš„åŸºæœ¬é…ç½®]]></title>
    <url>%2F2017%2F11%2F07%2FSpring3.X%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02-Bean%E7%9A%84%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[çŸ¥æ˜“è¡Œéš¾ï¼Œç”±äºŽä¹‹å‰å¾ˆå°‘å†™æŠ€æœ¯åšå®¢ï¼Œå¯¹äºŽå†™ä¸€ç¯‡â€œè¿˜ç®—æ­£å¼â€çš„æŠ€æœ¯æ–‡ç« éœ€è¦èŠ±è´¹å¤šå°‘æ—¶é—´å¹¶ä¸æ¸…æ¥šã€‚ç¬¬ä¸€ç¯‡ç¬”è®°æ•´ç†äº†å°†è¿‘ä¸€å‘¨ï¼Œè¿™è¿œè¿œè¶…å‡ºäº†æˆ‘çš„é¢„æœŸã€‚å†™å®Œçš„æ—¶å€™ï¼Œä¸å…æƒ³èµ·é‚£äº›ç»å¸¸å†™åšå®¢çš„äººä¸€å®šèŠ±è´¹äº†å¾ˆå¤šçš„å¿ƒæ€åœ¨ä¸Šé¢ï¼Œå› è€Œå¿ƒç”Ÿä½©æœã€‚å¾ˆå¤šäº‹æƒ…éƒ½æ˜¯è¿™æ ·ï¼Œåªæœ‰åšè¿‡æ‰ä¼šçŸ¥é“å…¶ä¸­çš„ä¸å®¹æ˜“ã€‚ 1ã€Springé…ç½®æ¦‚è¿°1.1 Springå®¹å™¨é«˜å±‚è§†å›¾Springå®¹å™¨æ ¹æ®å„ç§å½¢å¼çš„Beané…ç½®ä¿¡æ¯åœ¨å®¹å™¨å†…éƒ¨å»ºç«‹Beanå®šä¹‰æ³¨å†Œè¡¨ï¼Œç„¶åŽæ ¹æ®æ³¨å†Œè¡¨åŠ è½½ã€å®žä¾‹åŒ–Beanï¼Œå¹¶å»ºç«‹Beanå’ŒBeançš„ä¾èµ–å…³ç³»ã€‚Beançš„é…ç½®ä¿¡æ¯æ˜¯Beançš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒBeançš„å…ƒæ•°æ®ä¿¡æ¯åœ¨Springå®¹å™¨ä¸­çš„å†…éƒ¨å¯¹åº”ç‰©æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªBeanDefinitionå½¢æˆçš„Beanæ³¨å†Œè¡¨ï¼ŒSpringå®žçŽ°äº†Beanå…ƒæ•°æ®ä¿¡æ¯å†…éƒ¨è¡¨ç¤ºå’Œå¤–éƒ¨è¡¨ç¤ºçš„è§£è€¦ã€‚è¯·çœ‹ä¸‹å›¾ï¼š 1.2 åŸºäºŽXML Schemaçš„é…ç½®åŸºäºŽXMLçš„é…ç½®ï¼ŒSpring2.0ä»¥åŽå¼€å§‹ä½¿ç”¨Schemaæ ¼å¼ï¼Œç›¸æ¯”Spring1.0çš„DTDæ ¼å¼ï¼ŒSchemaè®©ä¸åŒç±»åž‹çš„é…ç½®æ‹¥æœ‰äº†è‡ªå·±çš„å‘½åç©ºé—´ï¼Œä½¿é…ç½®æ–‡ä»¶æ›´å…·æ‰©å±•æ€§ã€‚ä¸‹é¢çœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š Schemaåœ¨æ–‡æ¡£æ ¹èŠ‚ç‚¹ä¸­é€šè¿‡xmlnså¯¹æ–‡æ¡£ä¸­çš„å‘½åç©ºé—´è¿›è¡Œå£°æ˜Žã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­å®šä¹‰äº†3ä¸ªå‘½åç©ºé—´ï¼š é»˜è®¤å‘½åç©ºé—´ï¼šå®ƒæ²¡æœ‰ç©ºé—´åï¼Œç”¨äºŽSpring Beançš„å®šä¹‰ï¼› xsiå‘½åç©ºé—´ï¼šè¿™ä¸ªå‘½åç©ºé—´ç”¨äºŽä¸ºæ¯ä¸ªæ–‡æ¡£ä¸­å‘½åç©ºé—´æŒ‡å®šç›¸åº”çš„Schemaæ ·å¼æ–‡ä»¶ï¼Œæ˜¯æ ‡å‡†ç»„ç»‡å®šä¹‰çš„æ ‡å‡†å‘½åç©ºé—´ï¼› aopå‘½åç©ºé—´ï¼šè¿™ä¸ªå‘½åç©ºé—´æ˜¯Springé…ç½®Aopçš„å‘½åç©ºé—´ï¼Œæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å‘½åç©ºé—´ï¼› å‘½åç©ºé—´çš„å®šä¹‰åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼šç¬¬ä¸€æ­¥æŒ‡å®šå‘½åç©ºé—´çš„åç§°ï¼Œç¬¬äºŒéƒ¨æŒ‡å®šå‘½åç©ºé—´Schemaæ–‡æ¡£æ ·å¼æ–‡ä»¶çš„ä½ç½®ï¼Œç”¨ç©ºæ ¼æˆ–å›žè½¦æ¢è¡Œè¿›è¡Œåˆ†å‰²ã€‚åœ¨ç¬¬äºŒæ­¥ä¸­ï¼ŒæŒ‡å®šå‘½åç©ºé—´çš„Schemaæ–‡ä»¶åœ°å€æœ‰ä¸¤ä¸ªç”¨é€”ï¼šXMLè§£æžå™¨å¯ä»¥èŽ·å–Schemaæ–‡ä»¶å¹¶å¯¹æ–‡æ¡£è¿›è¡Œæ ¼å¼åˆæ³•æ€§éªŒè¯ï¼›åœ¨å¼€å‘çŽ¯å¢ƒä¸‹ï¼ŒIDEå¯ä»¥å¼•ç”¨Schemaæ–‡ä»¶å¯¹æ–‡æ¡£ç¼–è¾‘æä¾›è¯±å¯¼åŠŸèƒ½ã€‚ 2ã€Beançš„åŸºæœ¬é…ç½®2.1 Beané…ç½®çš„åŸºç¡€çŸ¥è¯†ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpring IoCå®¹å™¨ä¸­çš„ä¸€ä¸ªBeanå³å¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ä¸€ä¸ª&lt;bean&gt;ï¼Œå…¶ä¸­idä¸ºè¿™ä¸ªBeançš„åç§°ï¼Œé€šè¿‡å®¹å™¨çš„getBean(id)å³å¯èŽ·å–å¯¹åº”çš„Beanï¼Œåœ¨å®¹å™¨ä¸­èµ·åˆ°å®šä½æŸ¥æ‰¾çš„ä½œç”¨ã€‚classå±žæ€§æŒ‡å®šäº†Beanå¯¹åº”çš„å®žçŽ°ç±»ã€‚1&lt;bean id="foo" class="com.hhxs.domain.Foo"&gt; idåœ¨IoCçš„å®¹å™¨ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œæ­¤å¤–idçš„å‘½åä¹Ÿéœ€è¦æ»¡è¶³XMLå¯¹idçš„å‘½åè§„èŒƒï¼ˆidæ˜¯XMLè§„å®šçš„ç‰¹æ®Šå±žæ€§ï¼‰ï¼šå¿…é¡»ä»¥å­—æ¯å¼€å§‹ï¼ŒåŽé¢å¯ä»¥æ˜¯å­—æ¯ã€æ•°å­—ã€è¿žå­—ç¬¦ã€ä¸‹åˆ’çº¿ã€å¥å·ã€å†’å·çš„å®Œæ•´ç»“æŸçš„ç¬¦å·ï¼Œé€—å·å’Œç©ºæ ¼è¿™äº›éžå®Œæ•´ç»“æŸç¬¦æ˜¯éžæ³•çš„ã€‚nameå±žæ€§æ²¡æœ‰å­—ç¬¦ä¸Šçš„é™åˆ¶ï¼Œå‡ ä¹Žå¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ã€‚å¦å¤–idå’Œnameéƒ½å¯ä»¥æŒ‡å®šå¤šä¸ªåå­—ï¼Œåå­—ä¹‹é—´ç”¨é€—å·ã€åˆ†å·æˆ–è€…ç©ºæ ¼è¿›è¡Œåˆ†éš”ï¼š1&lt;bean name="foo,#foo,$foo" class="com.hhxs.domain.Foo"&gt; å¯ä»¥ä½¿ç”¨getBean(â€œfooâ€)ã€getBean(â€œ#fooâ€)ã€getBean(â€œ$fooâ€)èŽ·å–IoCå®¹å™¨ä¸­çš„Foo Beanã€‚Springé…ç½®æ–‡ä»¶ä¸­ä¸å…è®¸å‡ºçŽ°ä¸¤ä¸ªç›¸åŒidçš„&lt;bean&gt;ï¼Œä½†å¯ä»¥å‡ºçŽ°ä¸¤ä¸ªç›¸åŒnameçš„&lt;bean&gt;ï¼Œå¤šä¸ªnameç›¸åŒçš„&lt;bean&gt;ï¼Œé€šè¿‡getBean(beanName)èŽ·å–Beanæ—¶ï¼Œå°†è¿”å›žæœ€åŽå£°æ˜Žçš„é‚£ä¸ªBeanã€‚å¦‚æžœidå’Œnameä¸¤å±žæ€§éƒ½æœªæŒ‡å®šï¼Œå¦‚ï¼ŒSpringè‡ªåŠ¨å°†å…¨é™å®šç±»åä½œä¸ºBeançš„åç§°ã€‚ 2.2 æ³¨å…¥æ–¹å¼Springæ”¯æŒä¸¤ç§ä¾èµ–æ³¨å…¥æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯å±žæ€§æ³¨å…¥å’Œæž„é€ å‡½æ•°æ³¨å…¥ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒSpringè¿˜æ”¯æŒå·¥åŽ‚æ–¹æ³•æ³¨å…¥æ–¹å¼ã€‚ 2.2.1 å±žæ€§æ³¨å…¥å±žæ€§æ³¨å…¥è¦æ±‚Beanæä¾›ä¸€ä¸ªé»˜è®¤çš„æž„é€ å‡½æ•°ï¼Œå¹¶ä¸ºéœ€è¦æ³¨å…¥çš„å±žæ€§æä¾›å¯¹åº”çš„Setteræ–¹æ³•ã€‚Springå…ˆè°ƒç”¨Beançš„é»˜è®¤æž„é€ å‡½æ•°å®žä¾‹åŒ–Beanå¯¹è±¡ï¼Œç„¶åŽé€šè¿‡åå°„çš„æ–¹å¼è°ƒç”¨Setteræ–¹æ³•æ³¨å…¥å±žæ€§å€¼ã€‚JavaBeançš„å±žæ€§å‘½åè§„èŒƒï¼šxxxçš„å±žæ€§å¯¹åº”setXxx()æ–¹æ³•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒJavaçš„å±žæ€§å˜é‡åéƒ½ä»¥å°å†™å­—æ¯èµ·å¤´ï¼Œç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¹Ÿå…è®¸å¤§å†™å­—æ¯èµ·å¤´çš„å±žæ€§å˜é‡åï¼Œä½†æ˜¯å¿…é¡»æ»¡è¶³â€œå˜é‡çš„å‰ä¸¤ä¸ªå­—æ¯è¦ä¹ˆå…¨éƒ¨å¤§å†™ï¼Œè¦ä¹ˆå…¨éƒ¨å°å†™â€ã€‚ä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ï¼š12345678910111213141516171819202122232425public class Car &#123; private String brand; private String color; private int maxSpeed; public void setBrand(String brand) &#123; System.out.println("è°ƒç”¨setBrand()è®¾ç½®å±žæ€§ã€‚"); this.brand = brand; &#125; public void setColor(String color) &#123; this.color = color; &#125; public void setMaxSpeed(int maxSpeed) &#123; this.maxSpeed = maxSpeed; &#125; ......&#125;// Springé…ç½®æ–‡ä»¶ä¸­çš„å±žæ€§æ³¨å…¥é…ç½®&lt;bean id="car" class="com.hhxs.bbt.web.Car" &gt; &lt;property name="brand"&gt;&lt;value&gt;çº¢æ——CA72&lt;/value&gt;&lt;/property&gt; &lt;property name="color"&gt;&lt;value&gt;çº¢è‰²&lt;/value&gt;&lt;/property&gt; &lt;property name="maxSpeed"&gt;&lt;value&gt;200&lt;/value&gt;&lt;/property&gt;&lt;/bean&gt; Beançš„æ¯ä¸€ä¸ªå±žæ€§å¯¹åº”ä¸€ä¸ªæ ‡ç­¾ï¼Œå¦‚maxSpeedå¯¹åº”setMaxSpeed()ã€‚ æç¤º:é»˜è®¤æž„é€ å‡½æ•°æ˜¯ä¸å¸¦å‚çš„æž„é€ å‡½æ•°ã€‚Javaè¯­è¨€è§„å®šå¦‚æžœç±»ä¸­æ²¡æœ‰å®šä¹‰ä»»ä½•æž„é€ å‡½æ•°ï¼Œåˆ™JVMè‡ªåŠ¨ä¸ºå…¶ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æž„é€ å‡½æ•°ã€‚åä¹‹ï¼Œå¦‚æžœç±»ä¸­æ˜¾ç¤ºå®šä¹‰äº†æž„é€ å‡½æ•°ï¼Œåˆ™JVMä¸ä¼šä¸ºå…¶ç”Ÿæˆé»˜è®¤çš„æž„é€ å‡½æ•°ã€‚ 2.2.2 æž„é€ å‡½æ•°æ³¨å…¥æž„é€ å‡½æ•°æ³¨å…¥æ–¹å¼æ˜¯é™¤å±žæ€§æ³¨å…¥ä¹‹å¤–çš„å¦ä¸€ç§å¸¸ç”¨çš„æ³¨å…¥æ–¹å¼ï¼Œå®ƒä¿è¯ä¸€äº›å¿…è¦çš„å±žæ€§åœ¨Beanå®žä¾‹åŒ–æ—¶å°±å¾—åˆ°è®¾ç½®ï¼Œå®ƒä¿è¯äº†Beanå®žä¾‹åœ¨å®žä¾‹åŒ–åŽå°±å¯ä»¥ä½¿ç”¨ã€‚å…¶ä¸­æž„é€ å‚æ•°æ³¨å…¥åˆåˆ†ä¸ºï¼ŒæŒ‰ç±»åž‹åŒ¹é…å…¥å‚ã€æŒ‰ç´¢å¼•åŒ¹é…å…¥å‚ã€è”åˆä½¿ç”¨ç±»åž‹å’Œç´¢å¼•åŒ¹é…å…¥å‚ç­‰ã€‚è¿™æ˜¯å› ä¸ºJavaåå°„æœºåˆ¶å¹¶ä¸ä¼šè®°ä½æž„é€ å‡½æ•°çš„å…¥å‚åï¼Œæˆ‘ä»¬æ— æ³•é€šè¿‡æŒ‡å®šæž„é€ å‡½æ•°çš„å…¥å‚åè¿›è¡Œæž„é€ å‡½æ•°æ³¨å…¥çš„é…ç½®ï¼Œè€Œåªèƒ½é€šè¿‡å…¥å‚ç±»åž‹å’Œç´¢å¼•ä¿¡æ¯é—´æŽ¥ç¡®å®šæž„é€ å‡½æ•°é…ç½®é¡¹å’Œå…¥å‚çš„å¯¹åº”å…³ç³»ã€‚ä¸‹é¢ç›´æŽ¥çœ‹ä¸€ä¸ªè”åˆä½¿ç”¨ç±»åž‹å’Œç´¢å¼•åŒ¹é…å…¥å‚çš„ä»£ç ç‰‡æ®µï¼š123456789101112131415161718192021222324252627...public Car(String brand, String corp, double price) &#123; this.brand = brand; this.corp = corp; this.price = price;&#125;public Car(String brand, String corp, int maxSpeed) &#123; this.brand = brand; this.corp = corp; this.maxSpeed = maxSpeed;&#125;...// Springé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®&lt;!-- å¯¹åº”Car(String brand, String corp, int maxSpeed)æž„é€ å‡½æ•° --&gt;&lt;bean id="car" class="com.hhxs.bbt.web.Car" &gt; &lt;constructor-arg index="0" type="java.lang.String"&gt; &lt;value&gt;çº¢æ——CA72&lt;/value&gt; &lt;/constructor-arg&gt; &lt;constructor-arg index="1" type="java.lang.String"&gt; &lt;value&gt;ä¸­å›½ä¸€æ±½&lt;/value&gt; &lt;/constructor-arg&gt; &lt;constructor-arg index="2" type="int"&gt; &lt;value&gt;200&lt;/value&gt; &lt;/constructor-arg&gt;&lt;/bean&gt; å¦‚æžœæž„é€ å‡½æ•°æ²¡æœ‰æ­§ä¹‰çš„è¯ï¼Œä¸Šé¢é…ç½®æ–‡ä»¶ä¸­çš„typeå±žæ€§å’Œindexå±žæ€§å‡å¯åŽ»é™¤ã€‚å¦å¤–å¦‚æžœï¼ŒBeanæž„é€ å‡½æ•°å…¥å‚çš„ç±»åž‹æ˜¯å¯è¾¨åˆ«çš„ï¼ˆéžåŸºç¡€æ•°æ®ç±»åž‹ä¸”å…¥å‚ç±»åž‹å„å¼‚ï¼‰ï¼Œæž„é€ å‡½æ•°æ³¨å…¥çš„é…ç½®ä¹Ÿæ˜¯å¯ä»¥ä¸æä¾›ç±»åž‹å’Œç´¢å¼•çš„ä¿¡æ¯ï¼Œä½†æ˜¯ä¸ºäº†é¿å…æ½œåœ¨é…ç½®æ­§ä¹‰é—®é¢˜ï¼Œå¦‚æžœBeanå­˜åœ¨å¤šä¸ªæž„é€ å‡½æ•°ï¼Œä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šindexå’Œtypeå±žæ€§ä¸å¤±ä¸ºä¸€ç§è‰¯å¥½çš„é…ç½®ä¹ æƒ¯ã€‚ 2.2.3 å·¥åŽ‚æ³¨å…¥æ–¹æ³•Spring IoCå®¹å™¨ä»¥æ¡†æž¶çš„æ–¹å¼æä¾›å·¥åŽ‚æ–¹æ³•çš„åŠŸèƒ½ï¼Œå¹¶ä»¥é€æ˜Žçš„æ–¹å¼å¼€æ”¾ç»™å¼€å‘è€…ï¼Œæ‰€ä»¥å¾ˆå°‘éœ€è¦æ‰‹å·¥ç¼–å†™åŸºäºŽå·¥åŽ‚æ–¹æ³•çš„ç±»ã€‚æ­£å› ä¸ºæ­¤ï¼Œå·¥ä½œæ–¹æ³•å¯¹äºŽå®žé™…ç¼–ç çš„é‡è¦æ€§å¤§å¤§é™ä½Žï¼Œå®ƒå°†æ…¢æ…¢åœ°æ·¡å‡ºå¼€å‘äººå‘˜çš„è§†é‡Žï¼Œè¿™é‡Œä¸åœ¨è¯´æ˜Žã€‚ 2.2.4 æ³¨å…¥æ–¹å¼çš„é€‰æ‹©æ”¯æŒæž„é€ å‡½æ•°æ³¨å…¥æ–¹å¼çš„ç†ç”±ï¼š æž„é€ å‡½æ•°å¯ä»¥ä¿è¯ä¸€äº›é‡è¦çš„å±žæ€§åœ¨Beanå®žä¾‹åŒ–æ—¶å°±è®¾ç½®å¥½ï¼Œé¿å…å› ä¸ºä¸€äº›é‡å¤å±žæ€§æ²¡æœ‰æä¾›ï¼Œå¯¼è‡´ä¸€ä¸ªæ— ç”¨Beanå®žä¾‹çš„æƒ…å†µï¼› ä¸éœ€è¦ä¸ºæ¯ä¸ªå±žæ€§æä¾›Setteræ–¹æ³•ï¼Œå‡å°‘äº†ç±»çš„æ–¹æ³•ä¸ªæ•°ï¼› å¯ä»¥æ›´å¥½åœ°å°è£…ç±»å˜é‡ï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªå±žæ€§æŒ‡å®šSetteræ–¹æ³•ï¼Œé¿å…å¤–éƒ¨é”™è¯¯çš„è°ƒç”¨ã€‚ æ”¯æŒå±žæ€§æ³¨å…¥æ–¹å¼çš„ç†ç”±ï¼š å¦‚æžœä¸€ä¸ªç±»çš„å±žæ€§ä¼—å¤šï¼Œæž„é€ å‡½æ•°çš„ç­¾åå°†å˜æˆä¸€ä¸ªåºžç„¶å¤§ç‰©ï¼Œå¯è¯»æ€§å¾ˆå·®ï¼› çµæ´»æ€§ä¸å¤Ÿï¼Œåœ¨æœ‰äº›å±žæ€§æ˜¯å¯é€‰çš„æƒ…å†µä¸‹ï¼Œå¦‚æžœé€šè¿‡æž„é€ å‡½æ•°æ³¨å…¥ï¼Œä¹Ÿéœ€è¦ä¸ºå¯é€‰çš„å‚æ•°æä¾›ä¸€ä¸ªnullå€¼ï¼› å¦‚æžœæœ‰å¤šä¸ªæž„é€ å‡½æ•°ï¼Œéœ€è¦è€ƒè™‘é…ç½®æ–‡ä»¶å’Œå…·ä½“æž„é€ å‡½æ•°åŒ¹é…æ­§ä¹‰çš„é—®é¢˜ï¼Œé…ç½®ä¸Šç›¸å¯¹å¤æ‚ï¼› æž„é€ å‡½æ•°ä¸åˆ©äºŽç±»çš„ç»§æ‰¿å’Œæ‰©å±•ï¼Œå› ä¸ºå­ç±»éœ€è¦å¼•ç”¨åˆ°çˆ¶ç±»å¤æ‚çš„æž„é€ å‡½æ•°ï¼› æž„é€ å‡½æ•°æ³¨å…¥æœ‰æ—¶ä¼šé€ æˆå¾ªçŽ¯ä¾èµ–çš„é—®é¢˜ã€‚ ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œç”Ÿäº§çŽ¯å¢ƒä¸­è¦æ ¹æ®å®žé™…æƒ…å†µä½¿ç”¨ã€‚é™¤äº†å·¥åŽ‚æ–¹æ³•çš„æ³¨å…¥æ–¹å¼å·²ä¸å†ä½¿ç”¨ï¼Œå±žæ€§æ³¨å…¥å’Œæž„é€ å‡½æ•°æ³¨å…¥æ–¹å¼éƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ã€‚ 2.3 ç®€åŒ–é…ç½®æ–¹å¼åœ¨ä¹‹å‰çš„ä¾‹å­é‡Œæˆ‘ä»¬é‡‡ç”¨å®Œæ•´é…ç½®æ ¼å¼çš„é…ç½®æ–¹å¼ï¼Œä¹Ÿè®¸ä½ å·²ç»å‘çŽ°è¿™ç§æ–¹å¼æ˜¾å¾—æ¯”è¾ƒæ‹–æ²“ã€‚å¦‚æžœç³»ç»Ÿä¸­æ‹¥æœ‰å¤§é‡çš„ç±»éœ€è¦é…ç½®ï¼Œæˆ‘ä»¬ä¸€å®šä¼šæ„Ÿåˆ°å´©æºƒã€‚è¿˜å¥½Springä¸ºæˆ‘ä»¬æä¾›äº†ç®€åŒ–çš„é…ç½®æ–¹å¼ã€‚å¦‚æžœæ²¡æœ‰ç”¨åˆ°å®Œæ•´é…ç½®æ ¼å¼çš„ç‰¹æ®ŠåŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½åªä½¿ç”¨ç®€åŒ–çš„é…ç½®æ–¹å¼ã€‚ å­—é¢å€¼å±žæ€§ï¼š ç®€åŒ–å‰ ç®€åŒ–åŽ å­—é¢å€¼å±žæ€§ &lt;property name=&quot;maxSpeed&quot;&gt; &lt;value&gt;ä½ å¥½&lt;/value&gt; &lt;/property&gt; &lt;property name=&quot;maxSpeed&quot; value=&quot;200&quot;/&gt; æž„é€ å‡½æ•°å‚æ•° &lt;constructor-arg type=&quot;java.lang.String&quot;&gt; &lt;value&gt;çº¢æ——CA72&lt;/value&gt; &lt;/constructor-arg&gt; &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;çº¢æ——CA72&quot;/&gt; é›†åˆå…ƒç´  &lt;map&gt; &lt;entry&gt; &lt;key&gt;&lt;value&gt;AM&lt;/value&gt;&lt;/key&gt; &lt;value&gt;ä¼šè§å®¢æˆ·&lt;value&gt; &lt;/entry&gt; &lt;/map&gt; &lt;map&gt; &lt;entry key=&quot;AM&quot; value=&quot;ä¼šè§å®¢æˆ·&quot;/&gt; &lt;/map&gt; å¼•ç”¨å¯¹è±¡å±žæ€§ï¼š ç®€åŒ–å‰ ç®€åŒ–åŽ å­—é¢å€¼å±žæ€§ &lt;property name=&quot;car&quot;&gt; &lt;ref bean=&quot;car&quot;&gt;&lt;/ref&gt; &lt;/property&gt; &lt;property name=&quot;car&quot; ref=&quot;car&quot;/&gt; æž„é€ å‡½æ•°å‚æ•° &lt;constructor-arg&gt; &lt;ref bean=&quot;car&quot;/&gt; &lt;/constructor-arg&gt; &lt;constructor-arg ref=&quot;car&quot;/&gt; é›†åˆå…ƒç´  &lt;map&gt; &lt;entry&gt; &lt;key&gt;&lt;ref bean=&quot;keyBean&quot;/&gt;&lt;/key&gt; &lt;ref bean=&quot;valueBean&quot;/&gt; &lt;/entry&gt; &lt;/map&gt; &lt;map&gt; &lt;entry key-ref=&quot;keyBean&quot; value-ref=&quot;valueBean&quot;/&gt; &lt;/map&gt; ä½¿ç”¨På‘½åç©ºé—´ï¼šä¸ºäº†ç®€åŒ–XMLæ–‡ä»¶çš„é…ç½®ï¼Œè¶Šæ¥è¶Šå¤šçš„XMLæ–‡ä»¶é‡‡ç”¨å±žæ€§è€Œéžå­å…ƒç´ é…ç½®ä¿¡æ¯ã€‚Springä»Ž2.5ç‰ˆæœ¬å¼€å§‹å¼•å…¥äº†ä¸€ä¸ªæ–°çš„på‘½åç©ºé—´ï¼Œå¯ä»¥é€šè¿‡&lt;bean&gt;å…ƒç´ å±žæ€§çš„æ–¹å¼é…ç½®Beançš„å±žæ€§ã€‚ æœªé‡‡ç”¨På‘½åç©ºé—´å‰ï¼š123456789101112131415&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="car" class="com.hhxs.bbt.web.Car" &gt; &lt;property name="brand" value="çº¢æ——CA72" /&gt; &lt;property name="color" value="çº¢è‰²" /&gt; &lt;property name="maxSpeed" value="200" /&gt; &lt;/bean&gt; &lt;bean id="boss" class="com.hhxs.bbt.web.Boss"&gt; &lt;property name="car" ref="car"/&gt; &lt;/bean&gt;&lt;/beans&gt; é‡‡ç”¨På‘½åç©ºé—´åŽï¼š1234567891011121314&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="car" class="com.iflytek.bbt.web.Car" p:brand="çº¢æ——CA72" p:color="çº¢è‰²" p:maxSpeed="200"/&gt; &lt;bean id="boss" class="com.iflytek.bbt.web.Boss" p:car-ref="car"/&gt;&lt;/beans&gt; æœªé‡‡ç”¨på‘½åç©ºé—´å‰&lt;bean&gt;ä½¿ç”¨å­å…ƒç´ é…ç½®Beançš„å±žæ€§ï¼Œé‡‡ç”¨på‘½åç©ºé—´åŽï¼Œé‡‡ç”¨&lt;bean&gt;çš„å…ƒç´ å±žæ€§é…ç½®Beançš„å±žæ€§ã€‚ å¯¹äºŽå­—é¢å€¼å±žæ€§ï¼Œå…¶æ ¼å¼ä¸ºï¼š p:&lt;å±žæ€§å&gt;=&quot;xxx&quot; å¯¹äºŽå¼•ç”¨å¯¹è±¡çš„å±žæ€§ï¼Œå…¶æ ¼å¼ä¸ºï¼šp:&lt;å±žæ€§å&gt;-ref=â€œxxxâ€ ç”±äºŽpå‘½åç©ºé—´ä¸­çš„å±žæ€§åæ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥på‘½åç©ºé—´æ²¡æœ‰å¯¹åº”çš„Scheamå®šä¹‰æ–‡ä»¶ï¼Œä¹Ÿå°±ä¸éœ€è¦åœ¨xsi:schemaLocationä¸­ä¸ºpå‘½åç©ºé—´æŒ‡å®šSchemaå®šä¹‰æ–‡ä»¶ã€‚ 3. è‡ªåŠ¨è£…é…Spring IoCå®¹å™¨äº†è§£å®¹å™¨ä¸­æ‰€æœ‰Beançš„é…ç½®ä¿¡æ¯ï¼Œæ­¤å¤–é€šè¿‡Javaåå°„æœºåˆ¶è¿˜å¯ä»¥èŽ·å–å·²çŸ¥å®žçŽ°ä½ ç±»çš„ç»“æž„ä¿¡æ¯ï¼ˆå¦‚æž„é€ å‡½æ•°æ–¹æ³•çš„ç»“æž„ã€å±žæ€§ç­‰ä¿¡æ¯ï¼‰ã€‚æŽŒæ¡å®¹å™¨ä¸­æ‰€æœ‰Beançš„è¿™äº›ä¿¡æ¯åŽï¼ŒSpring IoCå®¹å™¨å°±å¯ä»¥æŒ‰ç…§æŸç§è§„åˆ™å¯¹å®¹å™¨ä¸­çš„Beanè¿›è¡Œè‡ªåŠ¨è£…é…ï¼Œè€Œæ— é¡»æˆ‘ä»¬é€šè¿‡æ˜¾ç¤ºçš„æ–¹å¼è¿›è¡Œé…ç½®ã€‚ &lt;bean&gt;å…ƒç´ æä¾›äº†ä¸€ä¸ªæŒ‡å®šè‡ªåŠ¨ä¸ªè£…é…ç±»åž‹çš„å±žæ€§ï¼šautowire=â€&lt;è‡ªåŠ¨è£…é…ç±»åž‹&gt;â€ã€‚Springæä¾›äº†4ç§è‡ªåŠ¨è£…é…ç±»åž‹ï¼š è‡ªåŠ¨è£…é…ç±»åž‹ è¯´æ˜Ž byName æ ¹æ®åç§°è¿›è¡Œè‡ªåŠ¨åŒ¹é…ã€‚å‡è®¾Bossæœ‰ä¸€ä¸ªåä¸ºcarçš„å±žæ€§ï¼Œå¦‚æžœå®¹å™¨ä¸­åˆšå¥½æœ‰ä¸€ä¸ªåä¸ºcarçš„Beanï¼ŒSpringå°±ä¼šè‡ªåŠ¨å°†å…¶è£…é…ç»™Bossçš„carå±žæ€§ã€‚ byType æ ¹æ®ç±»åž‹è¿›è¡Œè‡ªåŠ¨åŒ¹é…ã€‚å‡è®¾Bossæœ‰ä¸€ä¸ªcarç±»åž‹çš„å±žæ€§ï¼Œå¦‚æžœå®¹å™¨ä¸­åˆšå¥½æœ‰ä¸€ä¸ªcarç±»åž‹çš„Beanï¼ŒSpringå°±ä¼šè‡ªåŠ¨å°†å…¶è£…é…ç»™Bossçš„è¿™ä¸ªå±žæ€§ã€‚ constructor ä¸ŽByTypeç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒæ˜¯é’ˆå¯¹æž„é€ å‡½æ•°æ³¨å…¥è€Œè¨€çš„ï¼Œå¦‚æžœBossæœ‰ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œæž„é€ å‡½æ•°åŒ…å«ä¸€ä¸ªCarç±»åž‹çš„å…¥å‚ï¼Œå¦‚æžœå®¹å™¨ä¸­æœ‰ä¸€ä¸ªCarç±»åž‹çš„Beanï¼Œåˆ™Springå°†è‡ªåŠ¨æŠŠè¿™ä¸ªBeanä½œä¸ºBossæž„é€ å‡½æ•°çš„å…¥å‚ï¼Œå¦‚æžœå®¹å™¨ä¸­æ²¡æœ‰æ‰¾åˆ°å’Œæž„é€ å‡½æ•°å…¥å‚åŒ¹é…ç±»åž‹çš„Beanï¼ŒSpringå°†æŠ›å‡ºå¼‚å¸¸ã€‚ autodetect æ ¹æ®Beançš„è‡ªçœæœºåˆ¶å†³å®šé‡‡ç”¨byTypeè¿˜æ˜¯constructorè¿›è¡Œè‡ªåŠ¨è£…é…ï¼šå¦‚æžœBeanæä¾›äº†é»˜è®¤çš„æž„é€ å‡½æ•°ï¼Œåˆ™é‡‡ç”¨byType; å¦åˆ™é‡‡ç”¨constructor &lt;beans&gt;å…ƒç´ æ ‡ç­¾ä¸­çš„default-autowireå±žæ€§å¯ä»¥é…ç½®å…¨å±€è‡ªåŠ¨åŒ¹é…ï¼Œdefault-autowireå±žæ€§çš„é»˜è®¤å€¼ä¸ºnoï¼Œè¡¨ç¤ºä¸å¯ç”¨è‡ªåŠ¨è£…é…ï¼Œå…¶ä»–å‡ ä¸ªé…ç½®å€¼ä¸ºï¼šbyNameã€byTypeã€constructorã€autodetectï¼Œæ„ä¹‰åŒä¸Šé¢çš„è¡¨æ ¼ã€‚æ³¨æ„ï¼š&lt;beans&gt;ä¸­å®šä¹‰çš„è‡ªåŠ¨è£…é…ç­–ç•¥å¯ä»¥è¢«&lt;bean&gt;çš„è‡ªåŠ¨è£…é…ç­–ç•¥è¦†ç›–ã€‚ æ³¨æ„ï¼šè‡ªåŠ¨è£…é…æœºåˆ¶åœ¨å‡è½»é…ç½®å·¥ä½œé‡çš„åŒæ—¶ä¹Ÿä¼šé€ æˆé…ç½®æ–‡ä»¶ä¸­Beanä¹‹é—´å…³ç³»ä¸æ¸…æ™°çš„é—®é¢˜ï¼Œç”Ÿäº§ä½¿ç”¨æ—¶è¦æ ¹æ®å®žé™…é¡¹ç›®æƒ…å†µã€‚ 4. æ•´åˆå¤šä¸ªé…ç½®æ–‡ä»¶å¯¹äºŽä¸€ä¸ªå¤§åž‹åº”ç”¨æ¥è¯´ï¼Œå¯èƒ½æœ‰å¤šä¸ªXMLé…ç½®æ–‡ä»¶ï¼Œåœ¨å¯åŠ¨æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªStringæ•°ç»„æŒ‡å®šè¿™äº›é…ç½®æ–‡ä»¶ã€‚Springè¿˜å…è®¸æˆ‘ä»¬é€šè¿‡&lt;import&gt;å°†å¤šä¸ªé…ç½®æ–‡ä»¶å¼•å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿›è¡Œé…ç½®æ–‡ä»¶çš„é›†æˆã€‚å¦‚ä¸‹,beans2.xmlå¼•å…¥äº†beans1.xmlé…ç½®æ–‡ä»¶ï¼š123&lt;import resource="classpath:beans1.xml"/&gt;&lt;bean id="boss1" class="com.iflytek.bbt.web.Boss" p:car-ref="car1"/&gt;&lt;bean id="boss2" class="com.iflytek.bbt.web.Boss" p:car-ref="car2"/&gt; å‡è®¾æˆ‘ä»¬å·²ç»åœ¨beans1.xmlä¸­é…ç½®äº†car1å’Œcar2çš„Bean,é€šè¿‡&lt;import&gt;å¼•å…¥beans1.xmlï¼Œbeans2.xmlå°±æ‹¥æœ‰äº†å®Œæ•´çš„é…ç½®ä¿¡æ¯ã€‚Springå®¹å™¨ä»…éœ€è¦é€šè¿‡beans2.xmlå°±å¯ä»¥åŠ è½½åˆ°æ‰€æœ‰çš„é…ç½®ä¿¡æ¯äº†ã€‚ 5. Beanä½œç”¨åŸŸåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰Beanæ—¶ï¼Œé™¤äº†å¯ä»¥é…ç½®Beançš„å±žæ€§å€¼ä»¥åŠç›¸äº’ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè¿˜å¯ä»¥å®šä¹‰Beançš„ä½œç”¨åŸŸã€‚ Beançš„ä½œç”¨åŸŸç±»åž‹ï¼š ç±»åˆ« è¯´æ˜Ž singleton åœ¨Spring IoCå®¹å™¨ä¸­ä»…å­˜åœ¨ä¸€ä¸ªBeanå®žä¾‹ï¼ŒBeanä»¥å•å®žä¾‹çš„æ–¹å¼å­˜åœ¨ ã€‚åœ¨Springä¸­ï¼ŒBeançš„é»˜è®¤ä½œç”¨åŸŸä¸ºsingletonã€‚å¦‚æžœä¸å¸Œæœ›åœ¨å®¹å™¨å¯åŠ¨æ—¶æå‰å®žä¾‹åŒ–Beanï¼Œå¯ä»¥é€šè¿‡lazy-initå±žæ€§è¿›è¡ŒæŽ§åˆ¶ã€‚ prototype æ¯æ¬¡ä»Žå®¹å™¨ä¸­è°ƒç”¨Beanæ—¶ï¼Œéƒ½è¿”å›žä¸€ä¸ªæ–°çš„å®žä¾‹ï¼Œå³æ¯æ¬¡è°ƒç”¨getBean()æ—¶ï¼Œç›¸å½“äºŽæ‰§è¡Œnew XxxBean()çš„æ“ä½œ request æ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Beanã€‚è¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºŽWeApplicationContextçŽ¯å¢ƒã€‚ session åŒä¸€ä¸ªHTTP Sessionå…±äº«ä¸€ä¸ªBeanï¼Œä¸åŒHTTP Sessionä½¿ç”¨ä¸åŒçš„Beanã€‚è¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºŽWeApplicationContextçŽ¯å¢ƒã€‚ globalSession åŒä¸€ä¸ªå…¨å±€Sessionå…±äº«ä¸€ä¸ªBeanï¼Œ ä¸€èˆ¬ç”¨äºŽPorletåº”ç”¨çŽ¯å¢ƒã€‚è¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºŽWeApplicationContextçŽ¯å¢ƒã€‚ ä½¿ç”¨æ–¹å¼æ˜¯ï¼š scope=&quot;&lt;ä½œç”¨åŸŸç±»åž‹&gt;&quot;]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring3.Xå­¦ä¹ ç¬”è®°1-IoCå®¹å™¨æ¦‚è¿°]]></title>
    <url>%2F2017%2F10%2F28%2FSpring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01-IoC%E5%AE%B9%E5%99%A8%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[2017å³å°†æŽ¥è¿‘å°¾å£°ï¼Œæ¯å½“å¹´æœ«çš„æ—¶å€™æ€»è¦æ£€æŸ¥ä¸‹ä»Šå¹´è¿˜æœ‰ä»€ä¹ˆäº‹æƒ…æ²¡åšï¼Œç»“æžœå´å‘çŽ°ä»Šå¹´å¥½åƒä¹Ÿæ²¡åšå¤šå°‘äº‹æƒ…ðŸ˜¶ã€‚äºŽæ˜¯å°±æƒ³ç€æŠŠä¹‹å‰ä¸€ç›´æƒ³æ¢³ç†çš„SpringçŸ¥è¯†ï¼Œè¶ç€å¹´æœ«å¥½å¥½æ•´ç†ä¸‹ã€‚æœ¬ç³»åˆ—ç¬”è®°åŸºäºŽâ€Spring3.xä¼ä¸šåº”ç”¨å¼€å‘å®žæˆ˜â€œä¸€ä¹¦ï¼Œè¯´æ¥æƒ­æ„§ï¼Œä¹¦ä¹°äº†å¥½å¤šå¹´äº†ä¹Ÿæ²¡è®¤çœŸçš„çœ‹ä¸€éï¼ŒäºŽæ˜¯å°±æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼Œç®—æ˜¯2017å¹´çš„æœ€åŽç»™è‡ªå·±çš„ä¸€ä»½äº¤ä»£ã€‚ åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆç®€è¦ä»‹ç»ä¸‹Springå§ï¼ Springæ˜¯åˆ†å±‚çš„Java SE/EEåº”ç”¨ä¸€ç«™å¼çš„è½»é‡çº§å¼€æºæ¡†æž¶ï¼Œç”±Rod Johnsonåˆ›å»ºï¼Œä»¥IoCå’ŒAOPä¸ºå†…æ ¸ï¼Œæä¾›äº†å±•çŽ°å±‚Spring MVCå’ŒæŒä¹…å±‚Spring JDBCä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œå¹¶ä»¥æµ·çº³ç™¾å·çš„èƒ¸æ€€æ•´åˆäº†å¼€æºä¸–ç•Œé‡Œä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œé€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„Java EEä¼ä¸šåº”ç”¨å¼€å‘æ¡†æž¶ã€‚ 1ã€IoCæ¦‚è¿°1.1 IoCçš„æ¦‚å¿µIoCï¼ˆæŽ§åˆ¶åè½¬ï¼šInverse of Controlï¼‰æ˜¯ä¸€ä¸ªé‡è¦çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ç†è®ºï¼ŒSpringæ ¸å¿ƒæ¨¡å—å®žçŽ°äº†IoCçš„åŠŸèƒ½ã€‚Springä¸­çš„å…¶ä»–æ¨¡å—ï¼ŒåƒAOPã€å£°æ˜Žå¼äº‹åŠ¡ç­‰åŠŸèƒ½éƒ½æ˜¯å»ºç«‹åœ¨IoCçš„åŸºç¡€ä¹‹ä¸Šï¼Œå®ƒå°†ç±»å’Œç±»ä¹‹é—´çš„ä¾èµ–ä»Žä»£ç ä¸­è„±ç¦»å‡ºæ¥ï¼Œç”¨é…ç½®çš„æ–¹å¼è¿›è¡Œä¾èµ–å…³ç³»æè¿°ï¼Œç”±IoCå®¹å™¨è´Ÿè´£ä¾èµ–ç±»ä¹‹é—´çš„åˆ›å»ºã€æ‹¼æŽ¥ã€ç®¡ç†ã€èŽ·å–ç­‰å·¥ä½œã€‚ä¸€èˆ¬æ¥è¯´IoCçš„æ¦‚å¿µæœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼Œä¸€ä¸ªå«æŽ§åˆ¶åè½¬ï¼Œä¸€ä¸ªå«ä¾èµ–æ³¨å…¥ã€‚ç”±äºŽæŽ§åˆ¶åè½¬å¹¶ä¸å¥½ç†è§£ï¼Œä¸šç•Œä¹Ÿæ›¾è¿›è¡Œå¹¿æ³›çš„è®¨è®ºï¼Œæœ€ç»ˆè½¯ä»¶ç•Œçš„æ³°æ–—çº§äººç‰©Martin Folweræå‡ºäº†DIï¼ˆä¾èµ–æ³¨å…¥ï¼šDependency Injectionï¼‰çš„æ¦‚å¿µç”¨ä»¥ä»£æ›¿IoCã€‚ æŽ§åˆ¶åè½¬ï¼šå¯¹äºŽè½¯ä»¶æ¥è¯´ï¼Œå³æŸä¸€æŽ¥å£å…·ä½“å®žçŽ°ç±»çš„é€‰æ‹©æŽ§åˆ¶æƒä»Žè°ƒç”¨ç±»ä¸­ç§»é™¤ï¼Œè½¬äº¤ç»™ç¬¬ä¸‰æ–¹å†³å®šã€‚ ä¾èµ–æ³¨å…¥ï¼šè°ƒç”¨ç±»å¯¹æŸä¸€æŽ¥å£å®žçŽ°ç±»çš„ä¾èµ–å…³ç³»ç”±ç¬¬ä¸‰æ–¹ï¼ˆå®¹å™¨æˆ–åä½œç±»ï¼‰æ³¨å…¥ï¼Œä»¥ç§»é™¤è°ƒç”¨ç±»å¯¹æŸä¸€æŽ¥å£å®žçŽ°ç±»çš„ä¾èµ–ã€‚ ä¸Šé¢ä¸¤ä¸ªæ¦‚å¿µç¬¬ä¸€æ¬¡æŽ¥è§¦çš„æ—¶å€™ï¼Œä½ ä¼šå‘çŽ°éƒ½ä¸å¤ªå¥½ç†è§£ï¼Œé‚£æ˜¯å› ä¸ºè¿˜ä¸æ¸…æ¥šIoCçš„å®žçŽ°æœºåˆ¶ï¼Œéšç€å¯¹IoCäº†è§£çš„æ·±å…¥ï¼Œä½ ä¼šå‘çŽ°ä¾èµ–æ³¨å…¥çš„æ¦‚å¿µç›´æŽ¥æ˜Žäº†ã€‚ 1.2 IoCçš„ç±»åž‹ä»Žæ³¨å…¥æ–¹æ³•ä¸Šçœ‹ï¼Œä¸»è¦å¯ä»¥åˆ’åˆ†ä¸ºä¸‰ç§ç±»åž‹ï¼šæž„é€ å‡½æ•°æ³¨å…¥ã€å±žæ€§æ³¨å…¥å’ŒæŽ¥å£æ³¨å…¥ã€‚Springæ”¯æŒæž„é€ å‡½æ•°æ³¨å…¥å’Œå±žæ€§æ³¨å…¥ã€‚ æž„é€ å‡½æ•°æ³¨å…¥: åœ¨æž„é€ å‡½æ•°æ³¨å…¥ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨ç±»çš„æž„é€ å‡½æ•°ï¼Œå°†æŽ¥å£å®žçŽ°ç±»é€šè¿‡æž„é€ å‡½æ•°å˜é‡ä¼ å…¥ã€‚ å±žæ€§æ³¨å…¥: å±žæ€§æ³¨å…¥æ˜¯æŒ‡é€šè¿‡Setteræ–¹æ³•å®Œæˆè°ƒç”¨ç±»æ‰€éœ€ä¾èµ–çš„æ³¨å…¥ã€‚ æŽ¥å£æ³¨å…¥: å°†è°ƒç”¨ç±»æ‰€æœ‰ä¾èµ–æ³¨å…¥çš„æ–¹æ³•æŠ½å–åˆ°ä¸€ä¸ªæŽ¥å£ä¸­ï¼Œè°ƒç”¨ç±»é€šè¿‡å®žçŽ°è¯¥æŽ¥å£æä¾›ç›¸åº”çš„æ³¨å…¥æ–¹æ³•ã€‚ ç”±äºŽé€šè¿‡æŽ¥å£æ³¨å…¥éœ€è¦é¢å¤–å£°æ˜Žä¸€ä¸ªæŽ¥å£ï¼Œå¢žåŠ äº†ç±»çš„æ•°ç›®ï¼Œè€Œä¸”å®ƒçš„æ•ˆæžœå’Œå±žæ€§æ³¨å…¥å¹¶æ— æœ¬è´¨åŒºåˆ«ï¼Œæ‰€ä»¥ä¸æå€¡é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ 2ã€IoCçš„åº•å±‚å®žçŽ°åŽŸç†Springçš„æ ¸å¿ƒæ¨¡å—å®žçŽ°äº†IoCçš„åŠŸèƒ½ï¼Œå®ƒé€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ³¨è§£æè¿°ç±»å’Œç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨å®Œæˆç±»çš„åˆå§‹åŒ–å’Œä¾èµ–æ³¨å…¥çš„å·¥ä½œã€‚è®©å¼€å‘è€…ä»¬ä»Žåº•å±‚å®žçŽ°ç±»çš„å®žä¾‹åŒ–ã€ä¾èµ–å…³ç³»è£…é…ç­‰å·¥ä½œä¸­è„±ç¦»å‡ºæ¥ï¼Œä¸“æ³¨äºŽæ›´æœ‰æ„ä¹‰çš„ä¸šåŠ¡é€»è¾‘å¼€å‘å·¥ä½œã€‚è¿™ç§â€œç¥žå¥‡â€çš„åŠ›é‡å½’åŠŸäºŽJavaè¯­è¨€æœ¬èº«çš„ç±»åå°„åŠŸèƒ½ã€‚ 2.1 Javaåå°„çŸ¥è¯†Javaè¯­è¨€å…è®¸é€šè¿‡ç¨‹åºåŒ–çš„æ–¹å¼é—´æŽ¥å¯¹Classçš„å¯¹è±¡å®žä¾‹æ“ä½œï¼ŒClassæ–‡ä»¶ç”±ç±»è£…è½½å™¨è£…è½½åŽï¼Œåœ¨JVMä¸­å°†å½¢æˆä¸€ä»½æè¿°CLassç»“æž„çš„å…ƒä¿¡æ¯å¯¹è±¡ï¼Œé€šè¿‡è¯¥å…ƒä¿¡æ¯å¯¹è±¡å¯ä»¥èŽ·çŸ¥Classçš„ç»“æž„ä¿¡æ¯ï¼šå¦‚æž„é€ å‡½æ•°ã€å±žæ€§å’Œæ–¹æ³•ç­‰ã€‚Javaå…è®¸ç”¨æˆ·å€Ÿç”±è¿™ä¸ªClassç›¸å…³çš„å…ƒä¿¡æ¯å¯¹è±¡é—´æŽ¥è°ƒç”¨Classå¯¹è±¡çš„åŠŸèƒ½ï¼Œè¿™å°±ä¸ºä½¿ç”¨ç¨‹åºåŒ–æ–¹å¼æ“ä½œClasså¯¹è±¡å¼€è¾Ÿäº†é€”å¾„ã€‚ä¸‹é¢å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class Car &#123; private String brand; private String color; private int maxSpeed; public Car() &#123;&#125; public Car(String brand, String color, int maxSpeed) &#123; this.brand = brand; this.color = color; this.maxSpeed = maxSpeed; &#125; public void introduce() &#123; System.out.println("brand:" + brand + ";color:" + color + ";maxSpeed:" + maxSpeed); &#125; // çœç•¥å‚æ•°çš„getter/Setteræ–¹æ³•&#125;public class ReflectTest &#123; public static Car initByDefaultConst() throws Throwable &#123; // é€šè¿‡ç±»è£…è½½å™¨èŽ·å–Carç±»å¯¹è±¡ ClassLoader loader = Thread.currentThread().getContextClassLoader(); Class&lt;?&gt; clazz = loader.loadClass("com.hhxs.bbt.web.Car"); // èŽ·å–ç±»çš„é»˜è®¤æž„é€ å™¨å¯¹è±¡å¹¶é€šè¿‡å®ƒå®žä¾‹åŒ–Car Constructor&lt;?&gt; cons = clazz.getDeclaredConstructor((Class[]) null); Car car = (Car) cons.newInstance(); // é€šè¿‡åå°„æ–¹æ³•è®¾ç½®å±žæ€§ Method setBrand = clazz.getMethod("setBrand", String.class); setBrand.invoke(car, "çº¢æ——CA72"); Method setColor = clazz.getMethod("setColor", String.class); setColor.invoke(car, "é»‘è‰²"); Method setMaxSpeed = clazz.getMethod("setMaxSpeed", int.class); setMaxSpeed.invoke(car, 200); return car; &#125; public static void main(String[] args) throws Throwable &#123; Car car1 = initByDefaultConst(); car1.introduce(); &#125;&#125; é€šè¿‡æŸ¥çœ‹è¿è¡Œç»“æžœï¼Œå¯ä»¥çœ‹åˆ°è¿™å’Œç›´æŽ¥é€šè¿‡æž„é€ å‡½æ•°å’Œæ–¹æ³•è°ƒç”¨ç±»åŠŸèƒ½çš„æ•ˆæžœæ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡å‰è€…æ˜¯é—´æŽ¥è°ƒç”¨ï¼ŒåŽè€…æ˜¯ç›´æŽ¥è°ƒç”¨ç½¢äº†ã€‚è¿™è¯´æ˜Žæˆ‘ä»¬å®Œå…¨å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼è°ƒç”¨Classçš„å„é¡¹åŠŸèƒ½ã€‚å¦‚æžœæˆ‘ä»¬å°†è¿™äº›ä¿¡æ¯ä»¥ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„æ–¹å¼æä¾›ï¼Œå°±å¯ä»¥ä½¿ç”¨Javaè¯­è¨€çš„åå°„åŠŸèƒ½ç¼–å†™ä¸€æ®µé€šç”¨ä»£ç å¯¹ç±»ä¼¼äºŽCarçš„ç±»è¿›è¡Œå®žä¾‹åŒ–åŠåŠŸèƒ½è°ƒç”¨æ“ä½œäº†ã€‚æœ‰æ²¡æœ‰æ„Ÿè§‰è¿™å’Œä¸Šé¢æåˆ°çš„Springæ¡†æž¶çš„å®žçŽ°æœºåˆ¶å¾ˆç›¸ä¼¼ï¼ŒSpringæ­£æ˜¯åŸºäºŽJavaè¯­è¨€è‡ªå¸¦çš„åå°„æœºåˆ¶å®žçŽ°äº†IoCçš„åŠŸèƒ½ã€‚ ä¸‹é¢ç®€è¦ä»‹ç»ä¸‹ä¸Šè¿°ä¾‹å­ç”¨åˆ°å¾—ä¸‰ä¸ªä¸»è¦åå°„ç±»ï¼Œè¿™äº›åå°„å¯¹è±¡ç±»åœ¨java.reflectåŒ…ä¸­å®šä¹‰: Constructor: ç±»çš„æž„é€ å‡½æ•°åå°„ç±»ï¼Œé€šè¿‡Class#getConstructors()æ–¹æ³•å¯ä»¥èŽ·å¾—ç±»çš„æ‰€æœ‰æž„é€ å‡½æ•°åå°„å¯¹è±¡æ•°ç»„ã€‚Constructorçš„ä¸€ä¸ªä¸»è¦æ–¹æ³•æ˜¯newInstance(Object[]â€¦ initargs)ï¼Œé€šè¿‡è¯¥æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç±»çš„å®žä¾‹ï¼Œç›¸å½“newå…³é”®å­—ã€‚ Method: ç±»æ–¹æ³•çš„åå°„ç±»ï¼Œé€šè¿‡Class#getDeclaredMethods()æ–¹æ³•å¯ä»¥èŽ·å–ç±»çš„æ‰€æœ‰æ–¹æ³•å‘å°„ç±»å¯¹è±¡æ•°ç»„Method[]ã€‚Methodæœ€ä¸»è¦çš„æ–¹æ³•æ˜¯invoke(Object obj, Objcetâ€¦ args)ï¼Œobjè¡¨ç¤ºæ“ä½œçš„ç›®æ ‡å¯¹è±¡ï¼Œargsä¸ºæ–¹æ³•å…¥å‚ã€‚ Field: ç±»çš„æˆå‘˜å˜é‡åå°„ç±»ï¼Œé€šè¿‡Class#getDeclaredFields()æ–¹æ³•å¯ä»¥èŽ·å–ç±»çš„æˆå‘˜å˜é‡åå°„å¯¹è±¡æ•°ç»„ã€‚Filedç±»æœ€ä¸»è¦çš„æ–¹æ³•æ˜¯set(Object obj, Object value)ï¼Œobjè¡¨ç¤ºæ“ä½œçš„ç›®æ ‡å¯¹è±¡ï¼Œé€šè¿‡valueä¸ºç›®æ ‡ç±»å¯¹è±¡çš„æˆå‘˜å˜é‡è®¾ç½®å€¼ã€‚ æ­¤å¤–ï¼ŒJavaè¿˜ä¸ºåŒ…æä¾›äº†Packageåå°„ç±»ï¼Œåœ¨JDK5.0ä¸­è¿˜æœªæ³¨è§£æä¾›äº†AnnotatedElementåå°„ç±»ã€‚æ€»ä¹‹ï¼ŒJavaçš„åå°„ä½“ç³»ä¿è¯äº†å¯ä»¥é€šè¿‡ç¨‹åºåŒ–çš„æ–¹å¼è®¿é—®ç›®æ ‡ç±»ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå¯¹äºŽprivateæˆ–protectedçš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œåªè¦JVMçš„å®‰å…¨æœºåˆ¶å…è®¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åå°„è¿›è¡Œè°ƒç”¨setAccessible(boolean access)ã€‚ 3ã€ä¸‰ä¸ªæ ¸å¿ƒæŽ¥å£Springé€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æè¿°BeanåŠBeanä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œåˆ©ç”¨Javaè¯­è¨€çš„åå°„åŠŸèƒ½å®žä¾‹åŒ–Beanå¹¶å»ºç«‹Beanä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚Springçš„IoCå®¹å™¨åœ¨å®Œæˆè¿™äº›åº•å±‚å·¥ä½œçš„åŸºç¡€ä¸Šï¼Œè¿˜æä¾›äº†Beanå®žä¾‹ç¼“å­˜ã€å£°æ˜Žå‘¨æœŸç®¡ç†ã€Beanå®žä¾‹ä»£ç†ã€äº‹ä»¶å‘å¸ƒã€èµ„æºè£…è½½ç­‰é«˜çº§æœåŠ¡ã€‚ 3.1 BeanFactoryBeanå·¥åŽ‚(com.springframework.beans.factory.BeanFactory)æ˜¯Springæ¡†æž¶æœ€æ ¸å¿ƒçš„æŽ¥å£ï¼Œå®ƒæä¾›äº†é«˜çº§IoCçš„é…ç½®æœºåˆ¶ã€‚BeanFactoryä½¿ç®¡ç†ä¸åŒä¸åŒç±»åž‹çš„Javaå¯¹è±¡æˆä¸ºå¯èƒ½ï¼Œä¸€èˆ¬ç§°BeanFactoryä¸ºIoCå®¹å™¨ã€‚BeanFactoryæ˜¯ç±»çš„é€šç”¨å·¥åŽ‚ï¼Œå®ƒå¯ä»¥åˆ›å»ºå¹¶ç®¡ç†å„ç§ç±»çš„å¯¹è±¡ï¼ŒSpringç§°è¿™äº›è¢«åˆ›å»ºå’Œç®¡ç†çš„Javaå¯¹è±¡ä¸ºBeanã€‚Beanæœ€ä¸»è¦çš„æ–¹æ³•å°±æ˜¯getBean(String beanName)ï¼Œè¯¥æ–¹æ³•ä»Žå®¹å™¨ä¸­è¿”å›žç‰¹å®šåç§°çš„Beanã€‚ä¸‹é¢çœ‹ä¸€ä¸ªå°ä¾‹å­:1234567891011121314151617181920212223242526// springæ–‡ä»¶&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="car" class="com.hhxs.bbt.web.Car" p:brand="çº¢æ——CA72" p:color="é»‘è‰²" p:maxSpeed="200" /&gt;&lt;/beans&gt;// JAVAä»£ç public class BeanFactoryTest &#123; public static void main(String[] args) throws Throwable&#123; ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(); Resource res = resolver.getResource("classpath:spring/beans.xml"); System.out.println(res.getURL()); BeanFactory bf = new XmlBeanFactory(res); System.out.println("init BeanFactory."); Car car = bf.getBean("car",Car.class); System.out.println("car bean is ready for use!"); car.introduce(); &#125;&#125; æ³¨æ„ï¼š é€šè¿‡BeanFactoryå¯åŠ¨IoCå®¹å™¨æ—¶ï¼Œå¹¶ä¸ä¼šåˆå§‹åŒ–é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„Beanï¼Œåˆå§‹åŒ–åŠ¨ä½œå‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ã€‚å¯¹äºŽå•å®žä¾‹çš„Beanæ¥è¯´ï¼ŒBeanFactoryä¼šç¼“å­˜Beanå®žä¾‹ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡ä½¿ç”¨getBean()èŽ·å–Beanæ—¶å°†ç›´æŽ¥ä»ŽIoCå®¹å™¨çš„ç¼“å­˜ä¸­èŽ·å–Beanå®žä¾‹ã€‚Springåœ¨DefaultSingletonBeanRegistryç±»ä¸­æä¾›äº†ä¸€ä¸ªç”¨äºŽç¼“å­˜å•å®žä¾‹Beançš„ç¼“å­˜å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨HashMapå®žçŽ°çš„ç¼“å­˜å™¨ï¼Œå•å®žä¾‹çš„Beanä»¥beanNameä¸ºé”®ä¿å­˜åœ¨è¿™ä¸ªHashMapä¸­ã€‚ 3.2 ApplicationContextåº”ç”¨ä¸Šä¸‹æ–‡(com.springframework.context.ApplicationContext)å»ºç«‹åœ¨BeanFactoryåŸºç¡€ä¹‹ä¸Šï¼Œæä¾›äº†æ›´å¤šé¢å‘åº”ç”¨çš„åŠŸèƒ½ï¼Œå®ƒæä¾›äº†å›½é™…åŒ–æ”¯æŒå’Œæ¡†æž¶äº‹ä»¶ä½“ç³»ï¼Œæ›´æ˜“äºŽåˆ›å»ºå®žé™…åº”ç”¨ã€‚ä¸€èˆ¬ç§°ApplicationContextä¸ºåº”ç”¨ä¸Šä¸‹æ–‡æˆ–è€…Springå®¹å™¨ã€‚ ApplicationContextçš„ä¸»è¦å®žçŽ°ç±»æ˜¯ClassPathXmlApplicationContextå’ŒFileSystemXmlApplicationContextï¼Œå‰è€…é»˜è®¤ä»Žç±»è·¯å¾„ä¸­åŠ è½½é…ç½®æ–‡ä»¶ï¼ŒåŽè€…é»˜è®¤ä»Žæ–‡ä»¶ç³»ç»Ÿä¸­è£…è½½é…ç½®æ–‡ä»¶ã€‚ 123ApplicationContext ctx = new ClassPathXmlApplicationContext("spring/beans.xml"); //æˆ–è€…ApplicationContext ctx = new FileSystemXmlApplicationContext("spring/beans.xml"); åœ¨èŽ·å–ApplicationContextå®žä¾‹åŽï¼Œå°±å¯ä»¥åƒBeanFactoryä¸€æ ·è°ƒç”¨getBean(beanName)è¿”å›žBeanäº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šApplicationContextåœ¨åˆå§‹åŒ–åº”ç”¨ä¸Šä¸‹æ–‡æ—¶å°±å®žä¾‹åŒ–æ‰€æœ‰å•å®žä¾‹çš„Beanã€‚å› æ­¤ï¼Œç›¸æ¯”BeanFactoryï¼Œåˆå§‹åŒ–æ—¶é—´ä¹Ÿä¼šç›¸å¯¹è¾ƒé•¿äº›ï¼Œä¸è¿‡ä¹‹åŽçš„è°ƒç”¨å°±ä¸åœ¨æœ‰â€œç¬¬ä¸€æ¬¡æƒ©ç½šâ€çš„é—®é¢˜ã€‚ 3.3 WebApplicationContextWebApplicationContextæ˜¯ä¸“é—¨ä¸ºWebåº”ç”¨å‡†å¤‡çš„ï¼Œå®ƒå…è®¸åº”ç”¨ä»Žç›¸å¯¹äºŽWebæ ¹ç›®å½•çš„è·¯å¾„ä¸­è£…è½½é…ç½®æ–‡ä»¶å®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚ä»ŽWebApplicationContextä¸­å¯ä»¥èŽ·å¾—ServletContextçš„å¼•ç”¨ï¼Œæ•´ä¸ªWebåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡å°†ä½œä¸ºå±žæ€§æ”¾ç½®åˆ°ServletContextä¸­ï¼Œä»¥ä¾¿Webåº”ç”¨çŽ¯å¢ƒå¯ä»¥è®¿é—®Springåº”ç”¨ä¸Šä¸‹æ–‡ã€‚ WebApplicationContextçš„åˆå§‹åŒ–æ–¹å¼å’ŒBeanFactoryã€ApplicationContextæœ‰æ‰€åŒºåˆ«ï¼Œå› ä¸ºWebApplicationContextéœ€è¦ServletContextå®žä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¿…é¡»åœ¨æ‹¥æœ‰Webå®¹å™¨çš„å‰æä¸‹æ‰èƒ½å®Œæˆå¯åŠ¨çš„å·¥ä½œã€‚æœ‰è¿‡Webå¼€å‘ç»éªŒçš„è¯»è€…éƒ½çŸ¥é“å¯ä»¥åœ¨web.xmlä¸­é…ç½®è‡ªå¯åŠ¨çš„Servlet(spring3.0åŠä»¥åŽç‰ˆæœ¬ä¸­å·²ç»åˆ é™¤)æˆ–å®šä¹‰Webå®¹å™¨ç›‘å¬å™¨ï¼ˆServletContextListenerï¼‰ï¼Œå€ŸåŠ©è¿™ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥å®Œæˆå¯åŠ¨Spring Webåº”ç”¨ä¸Šä¸‹æ–‡çš„å·¥ä½œã€‚é€šè¿‡webå®¹å™¨ç›‘å¬å™¨å¯åŠ¨ï¼šweb.xml 1234567891011&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:/spring/spring-context.xml &lt;/param-value&gt;&lt;/context-param&gt;&lt;!-- springå®¹å™¨å¯åŠ¨ç›‘å¬å™¨ --&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt; 4ã€Beançš„ç”Ÿå‘½å‘¨æœŸ4.1 BeanFactoryä¸­Beançš„ç”Ÿå‘½å‘¨æœŸæˆ‘ä»¬çŸ¥é“Webå®¹å™¨ä¸­çš„Servletæ‹¥æœ‰æ˜Žç¡®çš„ç”Ÿå‘½å‘¨æœŸï¼ŒSpringå®¹å™¨ä¸­çš„Beanä¹Ÿæ‹¥æœ‰ç›¸ä¼¼çš„ç”Ÿå‘½å‘¨æœŸã€‚æˆ‘ä»¬å¯ä»¥ä»Žä¸¤ä¸ªå±‚é¢å®šä¹‰Beançš„ç”Ÿå‘½å‘¨æœŸï¼šç¬¬ä¸€ä¸ªå±‚é¢æ˜¯Beançš„ä½œç”¨èŒƒå›´ï¼›ç¬¬äºŒä¸ªå±‚é¢æ˜¯å®žä¾‹åŒ–Beanæ—¶æ‰€ç»åŽ†çš„ä¸€ç³»åˆ—é˜¶æ®µã€‚ å½“è°ƒç”¨è€…é€šè¿‡getBean(beanName)å‘å®¹å™¨è¯·æ±‚æŸä¸€ä¸ªBeanæ—¶ï¼Œå¦‚æžœå®¹å™¨æ³¨å†Œäº†org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessoræŽ¥å£ï¼Œåœ¨å®žä¾‹åŒ–Beanä¹‹å‰ï¼Œå°†è°ƒç”¨æŽ¥å£çš„postProcessBeforeInstantiation()æ–¹æ³•; æ ¹æ®é…ç½®æƒ…å†µè°ƒç”¨Beanæž„é€ å‡½æ•°æˆ–å·¥åŽ‚æ–¹æ³•å®žä¾‹åŒ–Beanï¼› å¦‚æžœå®¹å™¨æ³¨å†Œäº†InstantiationAwareBeanPostProcessoræŽ¥å£ï¼Œåœ¨å®žä¾‹åŒ–Beanä¹‹åŽï¼Œè°ƒç”¨è¯¥æŽ¥å£çš„postProcessAfterInstantiationn()æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¯¹å·²ç»å®žä¾‹åŒ–çš„å¯¹è±¡è¿›è¡Œå¤„ç†ã€‚ å¦‚æžœBeané…ç½®äº†å±žæ€§ä¿¡æ¯ï¼Œå®¹å™¨åœ¨è¿™ä¸€æ­¥ç€æ‰‹å°†é…ç½®å€¼è®¾ç½®åˆ°Beanå¯¹åº”çš„å±žæ€§ä¸­ï¼Œä¸è¿‡åœ¨è®¾ç½®æ¯ä¸ªå±žæ€§å€¼ä¹‹å‰å…ˆè°ƒç”¨InstantiationAwareBeanPostProcessoræŽ¥å£çš„postProcessPropertyValues()æ–¹æ³•ï¼› è°ƒç”¨Beançš„å±žæ€§è®¾ç½®æ–¹æ³•è®¾ç½®å±žæ€§å€¼ï¼› å¦‚æžœBeanå®žçŽ°äº†org.springframework.beans.factory.BeanNameAwareæŽ¥å£ï¼Œå°†è°ƒç”¨setBeanName()æŽ¥å£æ–¹æ³•ï¼Œå°†é…ç½®æ–‡ä»¶ä¸­è¯¥Beanå¯¹åº”çš„åç§°è®¾ç½®åˆ°Beanä¸­ï¼› å¦‚æžœBeanå®žçŽ°äº†org.springframework.bean.factory.BeanFactoryAwareæŽ¥å£ï¼Œå°†è°ƒç”¨setBeanFactory()æŽ¥å£æ–¹æ³•ï¼Œå°†BeanFactoryå®¹å™¨å®žä¾‹è®¾ç½®åˆ°Beanä¸­ï¼› å¦‚æžœBeanFactoryè£…é…äº†org.springframework.beans.factory.config.BeanPostProcessoråŽå¤„ç†å™¨ï¼Œå°†è°ƒç”¨BeanPostProcessorçš„Object postProcessBeforeInstantiation(Object bean, Stringn beanName)æŽ¥å£æ–¹æ³•å¯¹Beanè¿›è¡ŒåŠ å·¥æ“ä½œã€‚å…¶ä¸­å…¥å‚beanæ˜¯å½“å‰æ­£åœ¨å¤„ç†çš„Beanï¼Œè€ŒbeanNameæ˜¯å½“å‰Beançš„é…ç½®åï¼Œè¿”å›žçš„å¯¹è±¡ä¸ºåŠ å·¥å¤„ç†åŽçš„Beanã€‚BeanPostProcessoråœ¨Springæ¡†æž¶ä¸­å æœ‰é‡è¦çš„åœ°ä½ï¼Œä¸ºå®¹å™¨æä¾›duiBeanè¿›è¡ŒåŽç»­æž¶æž„å¤„ç†çš„åˆ‡å…¥ç‚¹ï¼ŒSpringå®¹å™¨æ‰€æä¾›çš„å„ç§â€œç¥žå¥‡åŠŸèƒ½â€ï¼ˆå¦‚AOPï¼ŒåŠ¨æ€ä»£ç†ç­‰ï¼‰éƒ½é€šè¿‡BeanPostProcessorå®žæ–½ï¼› å¦‚æžœBeanå®žçŽ°äº†InitializingBeançš„æŽ¥å£ï¼Œå°†è°ƒç”¨è¯¥æŽ¥å£çš„afterPropertiesSet()æ–¹æ³•ï¼› å¦‚æžœåœ¨é€šè¿‡init-methodå±žæ€§å®šä¹‰äº†åˆå§‹åŒ–æ–¹æ³•ï¼Œå°†æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼› BeanPostProcessoråŽå¤„ç†å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼šå…¶ä¸€æ—¶postProcessBeforeInstantiation()åœ¨ç¬¬8æ­¥è°ƒç”¨ï¼›å…¶äºŒæ˜¯Object postProcessAfterInstantiationn(Object bean, String beanName)æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æ­¤æ—¶è°ƒç”¨ï¼Œå®¹å™¨ä¸­å†æ¬¡èŽ·å¾—å¯¹Beanè¿›è¡ŒåŠ å·¥å¤„ç†çš„æœºä¼šã€‚ å¦‚æžœåœ¨ä¸­æŒ‡å®šBeançš„ä½œç”¨èŒƒå›´æ˜¯scope=â€prototypeâ€ï¼Œå°†Beanè¿”å›žç»™è°ƒç”¨è€…ï¼Œè°ƒç”¨è€…è´Ÿè´£BeanåŽç»­ç”Ÿå‘½çš„ç®¡ç†ï¼ŒSpringä¸å†ç®¡ç†è¿™ä¸ªBeançš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æžœä½œç”¨èŒƒå›´è®¾ç½®ä¸ºscope=â€œsingletonâ€ï¼Œåˆ™å°†Beanæ”¾å…¥åˆ°Spring IoCå®¹å™¨çš„ç¼“å­˜æ± ä¸­ï¼Œå¹¶å°†Beanå¼•ç”¨è¿”å›žç»™è°ƒç”¨è€…ï¼ŒSpringç»§ç»­å¯¹è¿™äº›Beanè¿›è¡ŒåŽç»­çš„ç”Ÿå‘½ç®¡ç†ã€‚ å¯¹äºŽscope=â€œsingletonâ€çš„Beanï¼Œå½“å®¹å™¨å…³é—­æ—¶ï¼Œå°†è§¦å‘Springå¯¹Beançš„åŽç»­ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†å·¥ä½œï¼Œé¦–å…ˆå¦‚æžœBeanå®žçŽ°äº†DisposableBeanæŽ¥å£ï¼Œåˆ™å°†è°ƒç”¨æŽ¥å£çš„afterPropertiesSet()æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ­¤ç¼–å†™é‡Šæ”¾èµ„æºã€è®°å½•æ—¥å¿—ç­‰æ“ä½œã€‚ å¯¹äºŽscope=â€œsingletonâ€çš„Beanï¼Œå¦‚æžœé€šè¿‡çš„destroy-methodå±žæ€§æŒ‡å®šäº†Beançš„é”€æ¯æ–¹æ³•ï¼ŒSpringå°†æ‰§è¡ŒBeançš„è¿™ä¸ªæ–¹æ³•ï¼Œå®ŒæˆBeanèµ„æºçš„é‡Šæ”¾ç­‰æ“ä½œã€‚ Beanç”Ÿå‘½å‘¨æœŸå®žä¾‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184public class Car implements BeanFactoryAware, BeanNameAware, InitializingBean, DisposableBean &#123; private String brand; private String color; private int maxSpeed; private BeanFactory beanFactory; private String beanName; public Car() &#123; System.out.println("è°ƒç”¨Car()æž„é€ å‡½æ•°ã€‚"); &#125; public Car(String brand, String color, int maxSpeed) &#123; this.brand = brand; this.color = color; this.maxSpeed = maxSpeed; &#125; public void introduce() &#123; System.out.println("brand:" + brand + ";color:" + color + ";maxSpeed:" + maxSpeed); &#125; public String getBrand() &#123; return brand; &#125; public void setBrand(String brand) &#123; System.out.println("è°ƒç”¨setBrand()è®¾ç½®å±žæ€§ã€‚"); this.brand = brand; &#125; public String getColor() &#123; return color; &#125; public void setColor(String color) &#123; this.color = color; &#125; public int getMaxSpeed() &#123; return maxSpeed; &#125; public void setMaxSpeed(int maxSpeed) &#123; this.maxSpeed = maxSpeed; &#125; // 5 DisposableBeanæ–¹æ³• @Override public void destroy() throws Exception &#123; System.out.println("è°ƒç”¨DisposaleBean.destroy()ã€‚"); &#125; // 4 IntializingBeanæŽ¥å£æ–¹æ³• @Override public void afterPropertiesSet() throws Exception &#123; System.out.println("è°ƒç”¨IntializingBean.afterPropertiesSet()ã€‚"); &#125; // 3 BeanNameAwareæŽ¥å£æ–¹æ³• @Override public void setBeanName(String name) &#123; System.out.println("è°ƒç”¨BeanNameAware.setBeanName()ã€‚"); this.beanName = beanName; &#125; // 2 BeanFactoryAwareæŽ¥å£æ–¹æ³• @Override public void setBeanFactory(BeanFactory beanFactory) throws BeansException &#123; System.out.println("è°ƒç”¨BeanFactoryAware.setBeanFactory()ã€‚"); this.beanFactory = beanFactory; &#125; // 6 é€šè¿‡&lt;bean&gt;çš„init-methodå±žæ€§æŒ‡å®šçš„åˆå§‹åŒ–æ–¹æ³• public void myInit() &#123; System.out.println("è°ƒç”¨init-methodæ‰€æŒ‡å®šçš„myInit()ï¼Œå°†maxSpeedè®¾ç½®ä¸º240ã€‚"); this.maxSpeed = 240; &#125; // 7 é€šè¿‡&lt;bean&gt;çš„destroy-methodå±žæ€§æŒ‡å®šçš„é”€æ¯æ–¹æ³• public void myDestroy() &#123; System.out.println("è°ƒç”¨destroy-methodæ‰€æŒ‡å®šçš„myDestroy()ã€‚"); &#125;&#125;public class MyInstantiationAwareBeanPostProcessor extends InstantiationAwareBeanPostProcessorAdapter &#123; // 1 åœ¨å®žä¾‹åŒ–Beanå‰è¿›è¡Œè°ƒç”¨ public Object postProcessBeforeInitialization(Class beanClass, String beanName) throws BeansException &#123; // 1-1 ä»…å¯¹å®¹å™¨ä¸­Car Beanè¿›è¡Œå¤„ç† if ("car".equals(beanName)) &#123; System.out.println("InstantiationAware BeanPostProcessor.postProcessBeforeInstantiation"); &#125; return null; &#125; // 2 åœ¨å®žä¾‹åŒ–BeanåŽè°ƒç”¨ public boolean postProcessAfterInstantiation(Object bean, String beanName) &#123; // 2-1 ä»…å¯¹å®¹å™¨ä¸­Car Beanè¿›è¡Œå¤„ç† if ("car".equals(beanName)) &#123; System.out.println("InstantiationAware BeanPostProcessor.postProcessAfterInstantiation"); &#125; return true; &#125; // 3 åœ¨è®¾ç½®æŸä¸ªå±žæ€§æ—¶è°ƒç”¨ public PropertyValues postProcessPropertyValues(PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName) throws BeansException &#123; // 3-1 ä»…å¯¹å®¹å™¨ä¸­Car Beanè¿›è¡Œå¤„ç†,è¿˜å¯ä»¥é€šè¿‡pdstå…¥å‚è¿›è¡Œè¿‡æ»¤ï¼Œä»…å¯¹carçš„æŸä¸ªç‰¹å®šå±žæ€§æ—¶è¿›è¡Œå¤„ç† if("car".equals(beanName)) &#123; System.out.println("InstantiationAware AwareBeanPostProcessor.postProcessPropertyValues"); &#125; return pvs; &#125;&#125;public class MyBeanPostProcessor implements BeanPostProcessor &#123; @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; if(beanName.equals("car")) &#123; Car car = (Car)bean; if(car.getColor() == null) &#123; System.out.println("è°ƒç”¨BeanPostProcessor.postProcessBeforeInitialization(),colorä¸ºç©ºï¼Œè®¾ç½®ä¸ºé»˜è®¤é»‘è‰²ã€‚"); car.setColor("é»‘è‰²"); &#125; &#125; return bean; &#125; @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123; if(beanName.equals("car")) &#123; Car car = (Car)bean; if(car.getMaxSpeed() &gt;= 200) &#123; System.out.println("è°ƒç”¨BeanPostProcessor.postProcess AfterInitialization(), å°†maxSpeedè°ƒæ•´ä¸º200ã€‚"); car.setMaxSpeed(200); &#125; &#125; return bean; &#125;&#125;**beans.xml**&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="car" class="com.iflytek.bbt.web.Car" init-method="myInit" destroy-method="myDestroy" p:brand="çº¢æ——CA72" p:maxSpeed="200" scope="singleton" /&gt;&lt;/beans&gt;public class BeanLifeCycle &#123; private static void lifeCycleInBeanFactory() &#123; Resource res = new ClassPathResource("spring/beans.xml"); BeanFactory bf = new XmlBeanFactory(res); // å‘å®¹å™¨ä¸­æ³¨å†ŒåŽå¤„ç†å™¨ ((ConfigurableBeanFactory)bf).addBeanPostProcessor(new MyBeanPostProcessor()); ((ConfigurableBeanFactory)bf).addBeanPostProcessor(new MyInstantiationAwareBeanPostProcessor()); // ç¬¬ä¸€æ¬¡ä»Žå®¹å™¨ä¸­èŽ·å–Carï¼Œå°†è§¦å‘å®¹å™¨å®žä¾‹åŒ–è¯¥Bean,è¿™å°†å¼•å‘Beanç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è°ƒç”¨ã€‚ Car car1 = (Car)bf.getBean("car"); car1.introduce(); car1.setColor("çº¢è‰²"); car1.introduce(); // ç¬¬äºŒæ¬¡ä»Žå®¹å™¨ä¸­èŽ·å–Carï¼Œç›´æŽ¥ä»Žç¼“å­˜æ± ä¸­èŽ·å– Car car2 = (Car)bf.getBean("car"); // æŸ¥çœ‹car1å’Œcar2æ˜¯å¦æŒ‡å‘åŒä¸€å¼•ç”¨ System.out.println("car1==car2:" + (car1==car2)); // å…³é—­å®¹å™¨ ((XmlBeanFactory)bf).destroySingletons(); &#125; public static void main(String[] args) &#123; lifeCycleInBeanFactory(); &#125;&#125; è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬åœ¨æŽ§åˆ¶å°ä¸Šå¾—åˆ°ä»¥ä¸‹è¾“å‡ºä¿¡æ¯ï¼Œä»”ç»†è§‚å¯Ÿï¼Œå°†å‘çŽ°å®ƒéªŒè¯äº†æˆ‘ä»¬å‰é¢æ‰€ä»‹ç»çš„Beanç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ã€‚123456789101112131415è°ƒç”¨Car()æž„é€ å‡½æ•°ã€‚InstantiationAware BeanPostProcessor.postProcessAfterInstantiationInstantiationAware AwareBeanPostProcessor.postProcessPropertyValuesè°ƒç”¨setBrand()è®¾ç½®å±žæ€§ã€‚è°ƒç”¨BeanNameAware.setBeanName()ã€‚è°ƒç”¨BeanFactoryAware.setBeanFactory()ã€‚è°ƒç”¨BeanPostProcessor.postProcessBeforeInitialization(),colorä¸ºç©ºï¼Œè®¾ç½®ä¸ºé»˜è®¤é»‘è‰²ã€‚è°ƒç”¨IntializingBean.afterPropertiesSet()ã€‚è°ƒç”¨init-methodæ‰€æŒ‡å®šçš„myInit()ï¼Œå°†maxSpeedè®¾ç½®ä¸º240ã€‚è°ƒç”¨BeanPostProcessor.postProcess AfterInitialization(), å°†maxSpeedè°ƒæ•´ä¸º200ã€‚brand:çº¢æ——CA72;color:é»‘è‰²;maxSpeed:200brand:çº¢æ——CA72;color:çº¢è‰²;maxSpeed:200car1==car2:trueè°ƒç”¨DisposaleBean.destroy()ã€‚è°ƒç”¨destroy-methodæ‰€æŒ‡å®šçš„myDestroy()ã€‚ 4.2 ApplicationContextä¸­Beançš„ç”Ÿå‘½å‘¨æœŸBeanåœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­çš„ç”Ÿå‘½å‘¨æœŸå’ŒBeanFactoryä¸­ç”Ÿå‘½å‘¨æœŸç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œå¦‚æžœBeanå®žçŽ°org.springframework.context.ApplicationContextAwareæŽ¥å£ï¼Œä¼šå¢žåŠ ä¸€ä¸ªè°ƒç”¨è¯¥æŽ¥å£æ–¹æ³•setApplicationContext()çš„æ­¥éª¤ã€‚ æ­¤å¤–ï¼Œå¦‚æžœé…ç½®æ–‡ä»¶ä¸­å£°æ˜Žäº†å·¥ä½œåŽå¤„ç†å™¨æŽ¥å£BeanFactoryPostProcessorçš„å®žçŽ°ç±»ï¼Œåˆ™åº”ç”¨ä¸Šä¸‹æ–‡åœ¨è£…è½½é…ç½®æ–‡ä»¶ä¹‹åŽåˆå§‹åŒ–Beanå®žä¾‹ä¹‹å‰å°†è°ƒç”¨è¿™äº›BeanFactoryPostProcessorå¯¹é…ç½®ä¿¡æ¯è¿›è¡ŒåŠ å·¥å¤„ç†ã€‚å·¥åŽ‚åŽå¤„ç†å™¨æ˜¯å®¹å™¨çº§çš„ï¼Œä»…åœ¨åº”ç”¨ä¸Šä¸‹æ–‡åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œå…¶ç›®çš„æ˜¯å®Œæˆä¸€äº›é…ç½®æ–‡ä»¶çš„åŠ å·¥å¤„ç†å·¥ä½œã€‚ ApplicationContextå’ŒBeanFactoryå¦ä¸€æœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äºŽï¼šå‰è€…ä¼šåˆ©ç”¨Javaåå°„æœºåˆ¶è‡ªåŠ¨è¯†åˆ«å‡ºé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„BeanPostProcessorã€InstantiationAwareBeanPostProcessorå’ŒBeanFactoryPostProcessorï¼Œå¹¶è‡ªåŠ¨å°†å®ƒä»¬æ³¨å†Œåˆ°åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ï¼›è€ŒåŽè€…éœ€è¦åœ¨ä»£ç ä¸­æ‹¿ä½ ç»™é€šè¿‡æ‰‹å·¥è°ƒç”¨addBeanPostProcessor()æ–¹æ³•è¿›è¡Œæ³¨å†Œã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨åº”ç”¨å¼€å‘å®¤ï¼Œæˆ‘ä»¬æ™®éä½¿ç”¨ApplicationContextè€Œå¾ˆå°‘ä½¿ç”¨BeanFactoryçš„åŽŸå› ä¹‹ä¸€ã€‚]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Activitiå·¥ä½œæµä¹‹é¡¹ç›®ä¸­çš„ä½¿ç”¨]]></title>
    <url>%2F2017%2F10%2F19%2FActiviti%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%AD%A6%E4%B9%A02%2F</url>
    <content type="text"><![CDATA[Activitiå·¥ä½œæµç‰¹ç‚¹çš„å…¶ä¸­ä¹‹ä¸€å°±æ˜¯åŽŸç”Ÿæ”¯æŒSpringã€‚å‰ä¸€ç« èŠ‚æˆ‘ä»¬ä»‹ç»äº†Activitå·¥ä½œæµçš„åŸºæœ¬æ¦‚å¿µï¼Œè®©å¤§å®¶å¯¹å·¥ä½œæµçŸ¥è¯†æœ‰äº†ä¸€ä¸ªå¤§ä½“çš„å°è±¡ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬è¯´ä¸‹åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ã€‚ 1ã€Springé›†æˆé¦–å…ˆåœ¨Mavenä¸­å°†Springé›†æˆåŒ…å¼•å…¥è¿›æ¥ã€‚12345&lt;dependency&gt; &lt;groupId&gt;org.activiti&lt;/groupId&gt; &lt;artifactId&gt;activiti-spring&lt;/artifactId&gt; &lt;version&gt;5.22.0&lt;&lt;/version&gt;&lt;/dependency&gt; å¯ä»¥æŠŠæµç¨‹å¼•æ“Žï¼ˆProcessEngineï¼‰ä½œä¸ºä¸€ä¸ªæ™®é€šçš„Springbeanè¿›è¡Œé…ç½®ã€‚ç±»org.activiti.spring.ProcessEngineFactoryBeanæ˜¯é›†æˆçš„åˆ‡å…¥ç‚¹,è¿™ä¸ªbeanéœ€è¦ä¸€ä¸ªæµç¨‹å¼•æ“Žé…ç½®æ¥åˆ›å»ºæµç¨‹å¼•æ“Žã€‚ 1234567891011121314151617&lt;!-- activiti config --&gt;&lt;bean id="processEngineConfiguration" class="org.activiti.spring.SpringProcessEngineConfiguration"&gt; &lt;property name="databaseType" value="oracle" /&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;property name="transactionManager" ref="transactionManager" /&gt; &lt;property name="databaseSchemaUpdate" value="true" /&gt;&lt;/bean&gt;&lt;bean id="processEngine" class="org.activiti.spring.ProcessEngineFactoryBean"&gt; &lt;property name="processEngineConfiguration" ref="processEngineConfiguration" /&gt;&lt;/bean&gt;&lt;bean id="repositoryService" factory-bean="processEngine" factory-method="getRepositoryService" /&gt;&lt;bean id="runtimeService" factory-bean="processEngine" factory-method="getRuntimeService" /&gt;&lt;bean id="taskService" factory-bean="processEngine" factory-method="getTaskService" /&gt;&lt;bean id="historyService" factory-bean="processEngine" factory-method="getHistoryService" /&gt;&lt;bean id="managementService" factory-bean="processEngine" factory-method="getManagementService" /&gt;z å…¶ä¸­datasourceæ˜¯æŒ‡é¡¹ç›®ä¸­é…ç½®çš„æ•°æ®æºï¼ŒtransactionManageræ˜¯æŒ‡é¡¹ç›®ä¸­é…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨é…ç½®ã€‚å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839&lt;!-- æ•°æ®æºé…ç½® --&gt;&lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close"&gt; &lt;!-- åŸºæœ¬å±žæ€§ urlã€userã€password --&gt; &lt;property name="driverClassName" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="url" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="username" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;!-- é…ç½®åˆå§‹åŒ–å¤§å°ã€æœ€å°ã€æœ€å¤§ --&gt; &lt;property name="initialSize" value="$&#123;jdbc.pool.initialSize&#125;" /&gt; &lt;property name="minIdle" value="$&#123;jdbc.pool.minIdle&#125;" /&gt; &lt;property name="maxActive" value="$&#123;jdbc.pool.maxActive&#125;" /&gt; &lt;!-- é…ç½®èŽ·å–è¿žæŽ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ --&gt; &lt;property name="maxWait" value="60000" /&gt; &lt;!-- é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿žæŽ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="30000" /&gt; &lt;!-- é…ç½®ä¸€ä¸ªè¿žæŽ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="300000" /&gt; &lt;property name="validationQuery" value="SELECT 'x' from dual" /&gt; &lt;property name="testWhileIdle" value="true" /&gt; &lt;property name="testOnBorrow" value="false" /&gt; &lt;property name="testOnReturn" value="false" /&gt; &lt;!-- æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿žæŽ¥ä¸ŠPSCacheçš„å¤§å°ï¼ˆOracleä½¿ç”¨ï¼‰ --&gt; &lt;property name="poolPreparedStatements" value="true" /&gt; &lt;property name="maxPoolPreparedStatementPerConnectionSize"value="20" /&gt; &lt;!-- é…ç½®ç›‘æŽ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼ŒåŽ»æŽ‰åŽç›‘æŽ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ --&gt; &lt;property name="filters" value="stat" /&gt;&lt;/bean&gt;&lt;!-- äº‹åŠ¡ç®¡ç†å™¨é…ç½®,å•æ•°æ®æºäº‹åŠ¡ --&gt;&lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource" /&gt;&lt;/bean&gt; è‡³æ­¤ï¼Œé›†æˆæˆåŠŸï¼Œåƒä½¿ç”¨ä¸€èˆ¬beanå¯¹è±¡çš„æ–¹å¼ä½¿ç”¨Activitå¯¹è±¡å³å¯ã€‚ 2ã€åŸºç¡€APIä»‹ç»é¡¹ç›®é‡Œç”¨åˆ°çš„åŸºæœ¬éƒ½æ˜¯é¡ºåºæµï¼Œæ²¡æœ‰ç”¨åˆ°ç½‘å…³ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸ä¼šä»‹ç»ç½‘å…³çš„ä¸œè¥¿ï¼Œåªä»‹ç»é¡¹ç›®ç”¨åˆ°ç›¸å…³çŸ¥è¯†ã€‚ 2.1 ä¸ƒé¡¹åŸºæœ¬æ“ä½œ è®¾è®¡æµç¨‹å›¾ï¼ˆå„ç§ç»„ä»¶ï¼Œå¦‚è¿žçº¿ã€ç”¨æˆ·ä»»åŠ¡ã€ç½‘å…³ï¼‰ æµç¨‹å®šä¹‰å¢žåˆ æ”¹æŸ¥ æµç¨‹å˜é‡å¢žåˆ æ”¹æŸ¥ å¯åŠ¨æµç¨‹å®šä¹‰ ä»»åŠ¡å¢žåˆ æ”¹æŸ¥ å®Œæˆä»»åŠ¡ åŽ†å²ä¿¡æ¯æŸ¥è¯¢ ä¸Šé¢åˆ—ä¸¾äº†Activitiä¸­ç”¨åˆ°çš„ä¸ƒé¡¹æ“ä½œç§ç±»ï¼Œæ¯ä¸€ç§æ“ä½œéƒ½æœ‰ç€å¯¹åº”çš„APIï¼Œéœ€è¦ç”¨åˆ°å“ªäº›APIè¯·æŸ¥çœ‹å®˜ç½‘æ–‡æ¡£ï¼Œæˆ–è€…Googleï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ 2.2 å¸¸ç”¨æ“ä½œ2.2.1 ä½¿ç”¨Eclipseå¼€å§‹æµç¨‹è®¾è®¡Eclipseæ’ä»¶å®‰è£…è¯·å‚ç…§Activitiå·¥ä½œæµä¹‹åŸºç¡€æ¦‚å¿µä»‹ç» é¼ æ ‡é€‰ä¸­è¦æ–°å»ºæµç¨‹å›¾çš„æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å³é”®ï¼Œé€‰æ‹©new-&gt;others-&gt;Activiti Diagramï¼Œå³å¯æ–°å»ºä¸€ä¸ªå›¾è¡¨ã€‚è®°å¾—è¦æŠŠEclipseåˆ‡æ¢åˆ°Activitè§†å›¾ï¼Œä¸€ä¸ªç®€å•çš„æµç¨‹å›¾ç±»ä¼¼ä¸‹å›¾ï¼Œåªéœ€è¦å…³æ³¨çº¢æ¡†é‡Œçš„å…ƒä»¶å°±å¯ä»¥äº†ï¼Œå¦‚æžœå¤æ‚çš„å°±éœ€è¦ç”¨åˆ°å…¶å®ƒå…ƒä»¶äº†ï¼Œæ¯”å¦‚ç½‘å…³ã€‚å¯ä»¥è‡ªè¡Œæ‹–æ‹½è¯•è¯•ï¼Œç½‘ä¸Šè¿™éƒ¨åˆ†æ“ä½œçŸ¥è¯†å¾ˆå¤šï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ 2.2.1 å·¥ä½œæµéƒ¨ç½²å…¶ä¸­recourceClassPathè¡¨ç¤ºå·¥ä½œæµç›¸å¯¹é¡¹ç›®classpathä¸‹çš„è·¯å¾„ï¼Œä¾‹å¦‚mavené¡¹ç›®ä¸­src/main/resourceä¸‹çš„â€bpmn/HelloWorldProcess.bpmnâ€œã€‚resourceNameè¡¨ç¤ºä½ è¦éƒ¨ç½²å·¥ä½œæµçš„åç§°ï¼Œè¿™ä¸ªåç§°ä¸€èˆ¬ç”¨æ¥è¯´æ˜Žå·¥ä½œæµçš„ä½œç”¨ï¼Œæ¯”å¦‚â€œè¯·å‡æµç¨‹â€œã€‚12345public Deployment deployProcess(String resourceClassPath, String resourceName) &#123; Deployment deployMent = repositoryService.createDeployment().name(resourceName) .addClasspathResource(resourceClassPath).deploy(); return deployMent;&#125; æ¯é‡å¤éƒ¨ç½²ä¸€æ¬¡ï¼Œact_re_deploymentè¡¨ä¸­æ–°å¢žåŠ çš„è®°å½•çš„IDå€¼éƒ½ä¼šéšä¹‹å¢žå¤§ï¼Œç›¸åº”æµç¨‹å¯åŠ¨çš„æ—¶å€™å–å¾—æ˜¯æœ€æ–°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§çš„å€¼ã€‚å¦‚æžœæƒ³é¿å…é‡å¤éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š123456public Deployment deployProcess(String resourceClassPath, String resourceName) &#123; //è¿‡æ»¤å…³é”®æ˜¯ä¸ºæµç¨‹éƒ¨ç½²èµ·ä¸€ä¸ªåå­—`fileName`ï¼Œæ²¡æœ‰åå­—ä¸ä¼šè¿‡æ»¤ Deployment deployMent = repositoryService.createDeployment().enableDuplicateFiltering().name(fileName) .name(resourceName).addClasspathResource(resourceClassPath).deploy(); return deployMent;&#125; 2.2.2 æµç¨‹å¯åŠ¨å…¶ä¸­procDefkeyè¡¨ç¤ºæµç¨‹å®šä¹‰key, businessKeyè¡¨ç¤ºä¸šåŠ¡key, processVariablesè¡¨ç¤ºæµç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„å˜é‡ã€‚123456789public ProcessInstance startProcessInstance(String procDefKey, String businessKey, Map&lt;String, Object&gt; processVariables) &#123; // æ ¹æ®æµç¨‹å®šä¹‰KEYæŸ¥è¯¢æœ€æ–°ç‰ˆæœ¬çš„æµç¨‹å®šä¹‰ ProcessDefinitionEntity procDef = (ProcessDefinitionEntity) getProcessDefinitionByKey(procDefKey); if (procDef == null) &#123; throw new RuntimeException("æµç¨‹å®šä¹‰KEYä¸º" + procDefKey + "æµç¨‹å®šä¹‰æœªæ‰¾åˆ°ï¼Œè¯·é‡æ–°å‘å¸ƒ"); &#125; return runtimeService.startProcessInstanceByKey(procDefKey, businessKey, processVariables);&#125; 2.2.3 ä»»åŠ¡å®Œæˆå…¶ä¸­taskIdè¡¨ç¤ºè¦å®Œæˆçš„ä»»åŠ¡ID,variablesè¡¨ç¤ºæµç¨‹å˜é‡123456private void commitProcess(String taskId, Map&lt;String, Object&gt; variables) &#123; if (variables == null) &#123; variables = new HashMap&lt;String, Object&gt;(); &#125; taskService.complete(taskId, variables); &#125; 2.2.4 æµç¨‹è·³è½¬è¿™é‡Œåªè¯´æ˜Žä¸»è¦ç®—æ³•ï¼Œå…¶ä¸­taskIdè¡¨ç¤ºä»»åŠ¡IDï¼ŒactivityIdè¡¨ç¤ºå¾…è·³è½¬çš„â€œæ´»åŠ¨èŠ‚ç‚¹Idâ€123456789101112131415161718private void commitProcess(String taskId, String activityId) &#123; // å½“å‰èŠ‚ç‚¹ ActivityImpl currActivity = findActivitiImpl(taskId, null); // æ¸…ç©ºå½“å‰æµå‘ List&lt;PvmTransition&gt; oriPvmTransitionList = clearTransition(currActivity); // åˆ›å»ºæ–°æµå‘ TransitionImpl newTransition = currActivity.createOutgoingTransition(); // ç›®æ ‡èŠ‚ç‚¹ ActivityImpl pointActivity = findActivitiImpl(taskId, activityId); // è®¾ç½®æ–°æµå‘çš„ç›®æ ‡èŠ‚ç‚¹ newTransition.setDestination(pointActivity); // æäº¤ä»»åŠ¡ taskService.complete(taskId, variables); // åˆ é™¤ç›®æ ‡èŠ‚ç‚¹æ–°æµå…¥ pointActivity.getIncomingTransitions().remove(newTransition); // è¿˜åŽŸä»¥å‰æµå‘ restoreTransition(currActivity, oriPvmTransitionList); &#125; 2.2.4 æµç¨‹ç»ˆæ­¢å…¶ä¸­procIdè¡¨ç¤ºæµç¨‹å®žä¾‹ID12345678public void terminateByBillCode(String procId) &#123; try &#123; // ç»ˆæ­¢æµç¨‹ runtimeService.deleteProcessInstance(procId, "åˆ é™¤åŽŸå› "); &#125; catch (Throwable e) &#123; LOG.error("ç»ˆæ­¢æµç¨‹Byä¸šåŠ¡å•å·-controller" + e.getMessage(), e); &#125;&#125; 2.2.5 å·¥ä½œæµåˆ é™¤å…¶ä¸­deploymentIdè¡¨ç¤ºå·¥ä½œæµéƒ¨ç½²IDï¼Œè¿™ä¸ªæ–¹æ³•ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨ï¼Œæ–°å·¥ä½œæµå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨é€‰æ‹©æœ€æ–°éƒ¨ç½²çš„å·¥ä½œæµã€‚å¦‚æžœå·¥ä½œæµéœ€è¦æ›´æ–°ï¼Œåªéœ€è¦é‡æ–°éƒ¨ç½²å·¥ä½œå°±å³å¯ã€‚1234567public void deleteDeployment(String deploymentId) throws Exception &#123; RepositoryService repositoryService = processEngine.getRepositoryService(); // æ™®é€šåˆ é™¤ï¼Œå¦‚æžœå½“å‰è§„åˆ™ä¸‹æœ‰æ­£åœ¨æ‰§è¡Œçš„æµç¨‹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ //repositoryService.deleteDeployment(deploymentId); // çº§è”åˆ é™¤ï¼Œä¼šåˆ é™¤å’Œå½“å‰è§„åˆ™ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ­£åœ¨æ‰§è¡Œçš„ä¿¡æ¯ï¼Œä¹ŸåŒ…æ‹¬åŽ†å²ä¿¡æ¯ repositoryService.deleteDeployment(deploymentId,true);&#125; 2.3 é›†æˆè‡ªå·±çš„ç”¨æˆ·ç®¡ç†ç³»ç»ŸActivitiè‡ªå¸¦çš„ç”¨æˆ·æƒé™ç®¡ç†ç³»ç»ŸåŠŸèƒ½ä¸å¤Ÿå¼ºå¤§ï¼Œè€Œä¸€èˆ¬ä¸šåŠ¡ç³»ç»Ÿéƒ½æœ‰è‡ªå·±çš„ç”¨æˆ·ç®¡ç†å¹³å°ï¼Œä½ å¯ä»¥é€‰æ‹©ä»¥æŸç§æ–¹å¼æ¥åŒæ­¥ä¸¤è€…ä¹‹é—´çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨ä¸šåŠ¡ç³»ç»Ÿçš„ç”¨æˆ·ç®¡ç†å¹³å°ä½œä¸ºå·¥ä½œæµæƒé™ç®¡ç†ã€‚ä¸‹é¢è¯´ä¸‹æ€è·¯ï¼š æ–°å»ºä¸€ä¸ªä¸­é—´è¡¨æ¯”å¦‚ACT_PROC_CONFIG,å­—æ®µåŒ…æ‹¬æµç¨‹key/è§’è‰²ID/ç»„ç»‡ID/ç”¨æˆ·IDã€‚ æä¾›ä¸€ä¸ªé¡µé¢ç”¨äºŽè®¾ç½®å¯¹æ¯ä¸ªå·¥ä½œæµè¿›è¡Œè®¾ç½®ï¼Œåˆ†åˆ«å°†å„çŽ¯èŠ‚çš„ä»»åŠ¡åˆ†é…ç»™æŸä¸ªéƒ¨é—¨ä¸­çš„æŸä¸ªè§’è‰²çš„æŸäº›äººå‘˜ã€‚è¿™æ ·å°±å°†è‡ªå·±çš„ç”¨æˆ·ç®¡ç†å¹³å°å’ŒActivitiå·¥ä½œæµæœ‰æ•ˆé›†æˆèµ·æ¥äº†ã€‚ é’ˆå¯¹å·¥ä½œæµç¼–å†™ä¸šåŠ¡ä»£ç çš„æ—¶å€™ï¼Œå°†ACT_PROC_CONFIGè¡¨èžè¿›æ¥ï¼Œæ¯”å¦‚åˆ¤æ–­æŸä¸ªç”¨æˆ·æ˜¯å¦æœ‰å½“å‰ä»»åŠ¡çš„å¤„ç†æƒé™ï¼Œä¸‹ä¸€çŽ¯èŠ‚ä»»åŠ¡æœ‰å“ªäº›äººå‘˜å¯ä»¥å¤„ç†ç­‰ã€‚ 2.4 æµç¨‹å®šåˆ¶ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå·¥ä½œæµéƒ¨ç½²ä»¥åŽæµç¨‹å°±æ˜¯å›ºå®šçš„ã€‚å…·ä½“æ¯ä¸ªç”¨æˆ·ä»»åŠ¡å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€è¦æå‰è®¾ç½®å¥½ç›¸åº”çš„éƒ¨é—¨å¤„ç†äººå‘˜ï¼Œè¿™æ ·å½“æ‰§è¡Œåˆ°æŸä¸ªç”¨æˆ·ä»»åŠ¡çš„æ—¶å€™ï¼Œè‡ªç„¶ä¼šæœ‰æ»¡è¶³æ¡ä»¶çš„äººå‘˜å¯ä»¥å¤„ç†ã€‚ä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚èµ°åˆ°æŸä¸ªç”¨æˆ·ä»»åŠ¡çš„æ—¶å€™ï¼Œè¦æ ¹æ®å½“å‰çš„å®žé™…å·¥ä½œæ¥åˆ¤æ–­åŽé¢çš„æµç¨‹è¿˜éœ€ä¸éœ€è¦èµ°ï¼Œè¿˜éœ€è¦å“ªäº›æµç¨‹å¤„ç†ï¼Œå“ªäº›æµç¨‹å¯ä»¥è·³è¿‡ï¼Œå“ªäº›æµç¨‹æˆ‘æƒ³æŒ‡å®šæŸä¸ªäººæ¥å¤„ç†ï¼Œè¿™å°±ç‰µæ‰¯åˆ°æµç¨‹å®šåˆ¶çš„é—®é¢˜ã€‚è€Œè¿™äº›åŠŸèƒ½åŸºæœ¬ä¸Šéƒ½æ˜¯éœ€è¦ç»“åˆæµç¨‹å˜é‡è‡ªå·±ç¼–ç å®žçŽ°çš„ã€‚éœ€è¦æ ¹æ®å®žé™…çš„ä¸šåŠ¡è‡ªè¡Œè®¾è®¡ï¼Œä¸»è¦å°±æ˜¯ç”¨åˆ°äº†æµç¨‹å˜é‡å’Œæµç¨‹è·³è½¬åŠŸèƒ½ï¼Œä¸šåŠ¡ä¸åŒè®¾è®¡ä¹Ÿä¸åŒï¼Œè¿™é‡Œä¹Ÿä¸å†è®²è¿°ï¼Œåªæ˜¯è¯´æ˜Žä¸€ç§åº”ç”¨åœºæ™¯ã€‚ 2.5ã€èµ„æºçš„è‡ªåŠ¨éƒ¨ç½²Springçš„é›†æˆä¹Ÿæœ‰ä¸€ä¸ªä¸“é—¨ç”¨äºŽå¯¹èµ„æºéƒ¨ç½²çš„ç‰¹æ€§ã€‚åœ¨æµç¨‹å¼•æ“Žçš„é…ç½®ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ç»„èµ„æºã€‚å½“æµç¨‹å¼•æ“Žè¢«åˆ›å»ºçš„æ—¶å€™ï¼Œ æ‰€æœ‰åœ¨è¿™é‡Œçš„èµ„æºéƒ½å°†ä¼šè¢«è‡ªåŠ¨æ‰«æä¸Žéƒ¨ç½²ã€‚åœ¨è¿™é‡Œæœ‰è¿‡æ»¤ä»¥é˜²æ­¢èµ„æºé‡æ–°éƒ¨ç½²ï¼Œåªæœ‰å½“è¿™ä¸ªèµ„æºçœŸæ­£å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œå®ƒæ‰ä¼šå‘Activitiä½¿ç”¨çš„æ•°æ®åº“åˆ›å»ºæ–°çš„éƒ¨ç½²ã€‚ è¿™å¯¹äºŽå¾ˆå¤šç”¨ä¾‹æ¥è¯´ï¼Œå½“Springå®¹å™¨ç»å¸¸é‡å¯çš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ æµ‹è¯•ï¼‰ï¼Œä½¿ç”¨å®ƒæ˜¯éžå¸¸ä¸é”™çš„é€‰æ‹©ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š12345678&lt;bean id="processEngineConfiguration" class="org.activiti.spring.SpringProcessEngineConfiguration"&gt; ... &lt;property name="deploymentResources" value="classpath*:/activiti/*.bpmn" /&gt;&lt;/bean&gt;&lt;bean id="processEngine" class="org.activiti.spring.ProcessEngineFactoryBean"&gt; &lt;property name="processEngineConfiguration" ref="processEngineConfiguration" /&gt;&lt;/bean&gt; é»˜è®¤ï¼Œä¸Šé¢çš„é…ç½®ä¼šæŠŠæ‰€æœ‰åŒ¹é…çš„èµ„Activitiå¼•æ“Žçš„ä¸€ä¸ªå•ç‹¬å‘å¸ƒåŒ…ä¸‹ã€‚ç”¨æ¥æ£€æµ‹é˜²æ­¢æœªä¿®æ”¹èµ„æºé‡å¤å‘å¸ƒçš„æœºåˆ¶ä¼šä½œç”¨åˆ°æ•´ä¸ªå‘å¸ƒåŒ…ä¸­ã€‚ æœ‰æ—¶å€™ï¼Œè¿™å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æžœä½ å‘å¸ƒäº†å¾ˆå¤šæµç¨‹èµ„æºï¼Œä½†æ˜¯åªä¿®æ”¹é‡Œå…¶ä¸­æŸä¸€ä¸ªå•ç‹¬çš„æµç¨‹å®šä¹‰ï¼Œ æ•´ä¸ªå‘å¸ƒåŒ…éƒ½ä¼šè¢«è®¤ä¸ºå˜æ›´äº†ï¼Œå¯¼è‡´æ•´ä¸ªå‘å¸ƒåŒ…ä¸‹çš„æ‰€æœ‰æµç¨‹å®šä¹‰éƒ½ä¼šè¢«é‡æ–°å‘å¸ƒï¼Œ ç»“æžœå°±æ˜¯æ¯ä¸ªæµç¨‹å®šä¹‰éƒ½ç”Ÿæˆäº†æ–°ç‰ˆæœ¬ï¼Œè™½ç„¶å…¶ä¸­åªæœ‰ä¸€ä¸ªæµç¨‹å‘ç”Ÿäº†æ”¹å˜ã€‚ ä¸ºäº†å®šåˆ¶å‘å¸ƒæ–¹å¼ï¼Œä½ å¯ä»¥ä¸ºSpringProcessEngineConfigurationæŒ‡å®šä¸€ä¸ªé¢å¤–çš„å‚æ•°deploymentModeã€‚ è¿™ä¸ªå‚æ•°æŒ‡å®šäº†åŒ¹é…å¤šä¸ªèµ„æºæ—¶çš„å‘å¸ƒå¤„ç†æ–¹å¼ã€‚é»˜è®¤ä¸‹è¿™ä¸ªå‚æ•°æ”¯æŒè®¾ç½®ä¸‰ä¸ªå€¼ï¼š default: æŠŠæ‰€æœ‰èµ„æºæ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„å‘å¸ƒåŒ…ä¸­ï¼Œå¯¹è¿™ä¸ªå‘å¸ƒåŒ…è¿›è¡Œé‡å¤æ£€æµ‹ã€‚ è¿™æ˜¯é»˜è®¤å€¼ï¼Œå¦‚æžœä½ æ²¡æœ‰æŒ‡å®šå‚æ•°å€¼ï¼Œå°±ä¼šä½¿ç”¨å®ƒã€‚ single-resource: ä¸ºæ¯ä¸ªå•ç‹¬çš„èµ„æºåˆ›å»ºä¸€ä¸ªå‘å¸ƒåŒ…ï¼Œå¹¶å¯¹è¿™äº›å‘å¸ƒåŒ…è¿›è¡Œé‡å¤æ£€æµ‹ã€‚ ä½ å¯ä»¥å•ç‹¬å‘å¸ƒæ¯ä¸ªæµç¨‹å®šä¹‰ï¼Œå¹¶åœ¨ä¿®æ”¹æµç¨‹å®šä¹‰åŽåªåˆ›å»ºä¸€ä¸ªæ–°çš„æµç¨‹å®šä¹‰ç‰ˆæœ¬ã€‚ resource-parent-folder: æŠŠæ”¾åœ¨åŒä¸€ä¸ªä¸Šçº§ç›®å½•ä¸‹çš„èµ„æºå‘å¸ƒåœ¨ä¸€ä¸ªå•ç‹¬çš„å‘å¸ƒåŒ…ä¸­ï¼Œå¹¶å¯¹å‘å¸ƒåŒ…è¿›è¡Œé‡å¤æ£€æµ‹ã€‚ å½“éœ€è¦å¤šèµ„æºéœ€è¦åˆ›å»ºå‘å¸ƒåŒ…ï¼Œä½†æ˜¯éœ€è¦æ ¹æ®å…±åŒçš„æ–‡ä»¶å¤¹æ¥ç»„åˆä¸€äº›èµ„æºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒã€‚ 12345&lt;bean id="processEngineConfiguration" class="org.activiti.spring.SpringProcessEngineConfiguration"&gt; ... &lt;property name="deploymentResources" value="classpath*:/activiti/*.bpmn" /&gt; &lt;property name="deploymentMode" value="single-resource" /&gt;&lt;/bean&gt; é¡¹ç›®ä¸­è™½ç„¶æ²¡ç”¨åˆ°å·¥ä½œæµçš„ç½‘å…³ç­‰åŠŸèƒ½ï¼Œä½†æ˜¯å› ä¸ºé¡¹ç›®ä¸­çš„æµç¨‹å®šåˆ¶ä¸šåŠ¡è¾ƒå¤šï¼ŒåŠ ä¸Šå®žé™…ä½¿ç”¨åœºæ™¯è¦è€ƒè™‘å¾ˆå¤šé—®é¢˜ï¼Œå®žé™…ä½¿ç”¨æ—¶è¿˜æ˜¯è›®å¤æ‚çš„ã€‚è¿™è¿˜éœ€è¦åœ¨å®žé™…é¡¹ç›®ä¸­åŽ†ç»ƒï¼Œæ‰èƒ½æ›´åŠ æ¸…æ™°æŽŒæ¡å·¥ä½œæµçš„ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚æžœåªæ˜¯æƒ³è¦ç®€å•çš„å…¥é—¨ï¼Œæ‰¾å‡ ä¸ªä¾‹å­å­¦ä¹ ä¸‹å°±å¯ä»¥äº†ã€‚]]></content>
      <categories>
        <category>Activitiå·¥ä½œæµ</category>
      </categories>
      <tags>
        <tag>Activiti</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Activitiå·¥ä½œæµä¹‹åŸºç¡€æ¦‚å¿µä»‹ç»]]></title>
    <url>%2F2017%2F10%2F13%2FActiviti%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%AD%A6%E4%B9%A01%2F</url>
    <content type="text"><![CDATA[è‡ªæˆ‘é©±åŠ¨åŠ›çš„æ¥æºæ˜¯åˆšéœ€ã€‚ å‰æ®µæ—¶é—´ä»Žå¦å¤–ä¸€ä¸ªå›¢é˜Ÿæ‰‹é‡ŒæŽ¥è¿‡æ¥ä¸€ä¸ªåŠæˆå“é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªå·¥ä½œæµç³»ç»Ÿã€‚åŠæˆå“å°±ç®—äº†ï¼Œè¿˜è¦å¿«é€Ÿå®Œæˆå·¥ä½œä»»åŠ¡ï¼Œè¯´å¤šäº†éƒ½æ˜¯æ³ªï¼Œç®—æ˜¯æŽ¥äº†ä¸€ä¸ªå¤§é”…ã€‚ä¸ºäº†å¿«é€Ÿä¸Šæ‰‹Activitiå·¥ä½œæµçš„ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šæ˜¯è¾¹å­¦ä¹ å˜å®žè·µï¼Œå› æ­¤æ•´ä¸ªé¡¹ç›®åšä¸‹æ¥å¯¹å·¥ä½œæµçŸ¥è¯†ä¾ç„¶å¤„äºŽæ¯”è¾ƒæ•£ä¹±çš„é˜¶æ®µï¼Œè¶ç€é¡¹ç›®æš‚æ—¶å‘Šä¸€æ®µè½æŠŠçŸ¥è¯†æ¢³ç†ä¸‹ã€‚è¨€å½’æ­£ä¼ ï¼Œä¸‹é¢è¿›å…¥æ­£é¢˜ï¼š 1ã€åŸºæœ¬æ¦‚å¿µ å·¥ä½œæµï¼šä¸šåŠ¡è¿‡ç¨‹çš„éƒ¨åˆ†æˆ–æ•´ä½“åœ¨è®¡ç®—æœºåº”ç”¨çŽ¯å¢ƒä¸‹çš„è‡ªåŠ¨åŒ– å·¥ä½œæµç®¡ç†ç³»ç»Ÿï¼šå·¥ä½œæµçš„å®šä¹‰å’Œç®¡ç†ï¼ŒæŒ‰ç…§åœ¨ç³»ç»Ÿä¸­é¢„å®šä¹‰å¥½çš„å·¥ä½œæµè§„åˆ™è¿›è¡Œå·¥ä½œæµå®žä¾‹çš„æ‰§è¡Œã€‚ å·¥ä½œæµç®¡ç†ç³»ç»Ÿçš„ç›®æ ‡ï¼šç®¡ç†å·¥ä½œæµç¨‹ä»¥ç¡®ä¿å·¥ä½œåœ¨æ­£ç¡®çš„æ—¶é—´è¢«æœŸæœ›çš„äººå‘˜æ‰§è¡Œâ€“åœ¨è‡ªåŠ¨åŒ–è¿›è¡Œçš„ä¸šåŠ¡è¿‡ç¨‹ä¸­æ’å…¥äººå·¥çš„æ‰§è¡Œå’Œå¹²é¢„ã€‚ Activiyæ˜¯ä»€ä¹ˆ Activitiæ˜¯ä¸€ä¸ªé’ˆå¯¹ä¼ä¸šç”¨æˆ·ã€å¼€å‘äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜çš„è½»é‡çº§å·¥ä½œæµä¸šåŠ¡ç®¡ç†å¹³å°ï¼Œå…¶æ ¸å¿ƒæ˜¯ä½¿ç”¨Javaå¼€å‘çš„å¿«é€Ÿã€ç¨³å®šçš„BPMN2.0æµç¨‹å¼•æ“Žã€‚ Activitiçš„ç‰¹ç‚¹ æ•°æ®æŒä¹…åŒ–ï¼Œåº•å±‚ä½¿ç”¨MyBatis å¼•æ“ŽServiceæŽ¥å£ æµç¨‹è®¾è®¡å™¨ åŽŸç”Ÿæ”¯æŒSpring åˆ†ç¦»è¿è¡Œæ—¶ä¸ŽåŽ†å²æ•°æ® 2ã€æ ¸å¿ƒè¡¨ä»‹ç»2.1 ç†è§£æ•°æ®åº“è¡¨çš„å‘½åActivitiçš„è¡¨éƒ½ä»¥ACT_å¼€å¤´ã€‚ç¬¬äºŒéƒ¨åˆ†è¡¨ç¤ºè¡¨çš„ç”¨é€”çš„ä¸¤ä¸ªå­—æ¯æ ‡è¯†ã€‚ç”¨é€”ä¹Ÿå’ŒæœåŠ¡çš„APIå¯¹åº”ã€‚ ACTRE*:â€™REâ€™è¡¨ç¤ºrepositoryã€‚è¿™ä¸ªå‰ç¼€çš„è¡¨åŒ…å«äº†æµç¨‹å®šä¹‰å’Œæµç¨‹é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€è§„åˆ™ï¼Œç­‰ç­‰ï¼‰ ACTRU*: â€˜RUâ€™è¡¨ç¤ºrutimeã€‚è¿™äº›è¿è¡Œæ—¶çš„è¡¨ï¼ŒåŒ…å«æµç¨‹å®žä¾‹ã€ä»»åŠ¡ã€å˜é‡ã€å¼‚æ­¥ä»»åŠ¡ï¼Œç­‰è¿è¡Œä¸­çš„æ•°æ®ã€‚Activitiåªåœ¨æµç¨‹å®žä¾‹æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿å­˜è¿™äº›æ•°æ®ï¼Œåœ¨æµç¨‹ç»“æŸæ—¶å°±ä¼šåˆ é™¤è¿™äº›è®°å½•ã€‚è¿™æ ·å¯ä»¥ä¿è¯è¿è¡Œæ—¶è¡¨å¯ä»¥ä¸€ç›´å¾ˆå°ä¸”é€Ÿåº¦å¾ˆå¿«ã€‚ ACTID*â€™IDâ€™è¡¨ç¤ºidentityã€‚è¿™äº›è¡¨åŒ…å«èº«ä»½ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·ï¼Œç»„ç­‰ç­‰ã€‚ ACTHI*:â€™HIâ€™è¡¨ç¤ºhistoryã€‚è¿™äº›è¡¨åŒ…å«åŽ†å²æ•°æ®ï¼Œæ¯”å¦‚åŽ†å²æµç¨‹å®žä¾‹ã€å˜é‡ã€ä»»åŠ¡ç­‰ç­‰ã€‚ ACTGE*: é€šç”¨æ•°æ®ï¼Œç”¨äºŽä¸åŒåœºæ™¯ä¸‹ã€‚ 2.2 è¡¨ç”¨é€”ä»‹ç»é€šç”¨æ•°æ®è¡¨: ACT_GE_BYTEARRAY: å­˜å‚¨éƒ¨ç½²æµç¨‹çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œä¸€ä¸ªæµç¨‹åŒ…æ‹¬ä¸€ä¸ªå·¥ä½œæµä¿¡æ¯å’Œä¸€å¼ å¯¹åº”çš„å·¥ä½œæµå›¾ç‰‡ã€‚ACT_GE_PROPERTY: å­˜å‚¨æ•´ä¸ªæµç¨‹å¼•æ“Žçº§åˆ«çš„æ•°æ®ï¼Œç”¨äºŽéƒ¨ç½²æµç¨‹æ—¶èŽ·å–æ–°çš„ç‰ˆæœ¬å·ï¼Œåˆå§‹åŒ–è¡¨ç»“æž„æ—¶ï¼Œä¼šé»˜è®¤æ’å…¥ä¸‰æ¡è®°å½• åŽ†å²æ•°æ®åº“è¡¨: ACT_HI_ACTINST: å­˜å‚¨åŽ†å²æ´»åŠ¨èŠ‚ç‚¹æ•°æ®ACT_HI_ATTACHMENT: å­˜å‚¨åŽ†å²é™„ä»¶æ•°æ®ACT_HI_COMMENT: å­˜å‚¨åŽ†å²è¯„è®ºæ•°æ®æˆ–è€…äº‹ä»¶æ•°æ®ACT_HI_DETAIL: å­˜å‚¨åŽ†å²æµç¨‹å˜é‡è¯¦æƒ…ä¿¡æ¯ACT_HI_IDENTITYLINK: å­˜å‚¨åŽ†å²æµç¨‹äººå‘˜æ“ä½œä¿¡æ¯ACT_HI_PROCINST: å­˜å‚¨åŽ†å²æµç¨‹å®žä¾‹ä¿¡æ¯ACT_HI_TASKINST: å­˜å‚¨åŽ†å²ä»»åŠ¡å®žä¾‹ä¿¡æ¯ACT_HI_VARINST: å­˜å‚¨åŽ†å²æµç¨‹å˜é‡ä¿¡æ¯ ç”¨æˆ·ç»„ç»‡è¡¨: ACT_ID_GROUP: å­˜å‚¨ç”¨æˆ·ç»„ä¿¡æ¯ACT_ID_INFO: å­˜å‚¨ç”¨æˆ·æ‰©å±•ä¿¡æ¯ACT_ID_MEMBERSHIP: å­˜å‚¨ç”¨æˆ·ä¸Žç”¨æˆ·ç»„é˜Ÿå½¢ä¿¡æ¯ACT_ID_USER: å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ å·¥ä½œæµæµç¨‹è§„åˆ™è¡¨: ACT_RE_DEPLOYMENT: å­˜å‚¨å·¥ä½œæµéƒ¨ç½²ä¿¡æ¯ï¼Œæ¯”å¦‚å·¥ä½œæµåç§°ç­‰ACT_RE_MODEL: å­˜å‚¨æµç¨‹è®¾è®¡æ¨¡åž‹ä¿¡æ¯ACT_RE_PROCDEF: å­˜å‚¨æµç¨‹å®šä¹‰æ•°æ® è¿è¡Œæ—¶æ•°æ®è¡¨: ACT_RU_EVENT_SUBSCR: å¦‚æžœæµç¨‹åˆ°è¾¾æŸä¸ªäº‹ä»¶èŠ‚ç‚¹ï¼ŒActivitiä¼šå¾€è¯¥è¡¨ä¸­åŠ å…¥äº‹ä»¶æè¿°æ•°æ®ï¼Œè¿™äº›äº‹ä»¶æè¿°æ•°æ®å°†ä¼šå†³å®šæµç¨‹äº‹ä»¶çš„è§¦å‘ã€‚ACT_RU_EXECUTION: å­˜å‚¨è¿è¡Œæ—¶æµç¨‹æ‰§è¡Œå®žä¾‹ä¿¡æ¯ACT_RU_IDENTITYLINK: å­˜å‚¨è¿è¡Œæ—¶æµç¨‹äººå‘˜æ“ä½œä¿¡æ¯ï¼Œä¸»è¦å­˜å‚¨ä»»åŠ¡èŠ‚ç‚¹ä¸Žå‚ä¸Žè€…çš„ç›¸å…³ä¿¡æ¯ACT_RU_JOB: å­˜å‚¨è¿è¡Œæ—¶å®šæ—¶ä»»åŠ¡ä¿¡æ¯ACT_RU_TASK: å­˜å‚¨è¿è¡Œæ—¶ä»»åŠ¡èŠ‚ç‚¹ä¿¡æ¯ACT_RU_VARIABLE: å­˜å‚¨è¿è¡Œæ—¶æµç¨‹å˜é‡ä¿¡æ¯ å…¶ä»–: CT_EVT_LOG: å­˜å‚¨äº‹ä»¶æ—¥å¿—ä¿¡æ¯ACT_PROCDEF_INFO: å­˜å‚¨æµç¨‹å®šä¹‰çš„åŠ¨æ€å˜æ›´ä¿¡æ¯ 3ã€æ ¸å¿ƒæ¦‚å¿µä»‹ç»3.1 æ ¸å¿ƒAPI ProcessEngine: åœ¨Activitiä¸­æœ€æ ¸å¿ƒçš„ç±» ProcessDefinition: æµç¨‹å®šä¹‰ç±»ã€‚å¯ä»¥ä»Žè¿™é‡ŒèŽ·å¾—èµ„æºæ–‡ä»¶ç­‰ã€‚ ProcessInstance: ä»£è¡¨æµç¨‹å®šä¹‰çš„æ‰§è¡Œå®žä¾‹ï¼Œä¸€ä¸ªæµç¨‹å®žä¾‹åŒ…æ‹¬äº†æ‰€æœ‰çš„è¿è¡ŒèŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå¯¹è±¡æ¥äº†è§£å½“å‰æµç¨‹å®žä¾‹çš„è¿›åº¦ç­‰ä¿¡æ¯ï¼Œä¸€ä¸ªæµç¨‹å®žä¾‹å°±è¡¨ç¤ºä¸€ä¸ªæµç¨‹ä»Žåˆšå¼€å§‹åˆ°ç»“æŸçš„æœ€å¤§æµç¨‹åˆ†æ”¯ï¼Œå³ä¸€ä¸ªæµç¨‹ä¸­æµç¨‹å®žä¾‹åªæœ‰ä¸€ä¸ªã€‚ Execution: Activitiç”¨è¿™ä¸ªå¯¹è±¡åŽ»æè¿°æµç¨‹æ‰§è¡Œçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ²¡æœ‰å¹¶å‘çš„æ¡ä»¶ä¸‹ï¼ŒExecutionå°±æ˜¯åŒProcessInstanceã€‚æµç¨‹æŒ‰ç…§æµç¨‹å®šä¹‰çš„è§„åˆ™æ‰§è¡Œä¸€æ¬¡çš„è¿‡ç¨‹ï¼Œå°±å¯ä»¥è¡¨ç¤ºæ‰§è¡Œå¯¹è±¡Executionã€‚ ä¸€ä¸ªæµç¨‹ä¸­ï¼Œæ‰§è¡Œå¯¹è±¡å¯ä»¥å­˜åœ¨å¤šä¸ªï¼Œä½†æ˜¯æµç¨‹å®žä¾‹åªèƒ½æœ‰ä¸€ä¸ªã€‚ å½“æµç¨‹æŒ‰ç…§è§„åˆ™åªæ‰§è¡Œä¸€æ¬¡çš„æ—¶å€™ï¼Œé‚£ä¹ˆæµç¨‹å®žä¾‹å°±æ˜¯æ‰§è¡Œå¯¹è±¡ã€‚ Task: æ‰§è¡Œåˆ°æŸä»»åŠ¡çŽ¯èŠ‚æ—¶ç”Ÿæˆçš„ä»»åŠ¡ä¿¡æ¯ã€‚ ç”±äºŽæ•°æ®åº“ä¸­ä¿å­˜ç€åŽ†å²ä¿¡æ¯ä»¥åŠæ­£åœ¨è¿è¡Œçš„æµç¨‹å®žä¾‹ä¿¡æ¯ï¼Œåœ¨å®žé™…é¡¹ç›®ä¸­å¯¹å·²å®Œæˆä»»åŠ¡çš„æŸ¥çœ‹é¢‘çŽ‡è¿œä¸åŠå¯¹ä»£åŠžå’Œå¯æŽ¥ä»»åŠ¡çš„æŸ¥çœ‹ï¼Œæ‰€ä»¥åœ¨activitié‡‡ç”¨åˆ†å¼€ç®¡ç†ï¼ŒæŠŠæ­£åœ¨è¿è¡Œçš„äº¤ç»™RuntimeServiceã€TaskServiceç®¡ç†ï¼Œè€ŒåŽ†å²æ•°æ®äº¤ç»™HistoryServiceæ¥ç®¡ç†ã€‚ æµç¨‹å˜é‡: åœ¨æµç¨‹æ‰§è¡Œæˆ–è€…ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç”¨äºŽè®¾ç½®å’ŒèŽ·å–å˜é‡ï¼Œä½¿ç”¨æµç¨‹å˜é‡åœ¨æµç¨‹ä¼ é€’çš„è¿‡ç¨‹ä¸­ä¼ é€’ä¸šåŠ¡å‚æ•°ã€‚ 3.2 ä¸ƒå¤§ServiceæŽ¥å£ RepositoryService: ä»“åº“æœåŠ¡ç±»ï¼Œç®¡ç†æµç¨‹å®šä¹‰ã€‚ç”¨äºŽç®¡ç†æµç¨‹ä»“åº“ï¼Œä¾‹å¦‚éƒ¨ç½²ã€åˆ é™¤ã€è¯»å–æµç¨‹èµ„æºã€‚æ‰€è°“çš„ä»“åº“æŒ‡æµç¨‹å®šä¹‰æ–‡æ¡£çš„ä¸¤ä¸ªæ–‡ä»¶ï¼šbpmnæ–‡ä»¶å’Œæµç¨‹å›¾ç‰‡ã€‚ IdentifyService: èº«ä»½Serviceï¼Œç”¨æˆ·ç®¡ç†å’ŒæŸ¥è¯¢ç”¨æˆ·ã€ç»„ä¹‹é—´çš„å…³ç³» RuntimeService: æµç¨‹æ‰§è¡ŒæœåŠ¡ç±»ï¼Œå¯ä»¥ä»Žè¿™ä¸ªæœåŠ¡ç±»ä¸­èŽ·å–å¾ˆå¤šå…³äºŽæµç¨‹æ‰§è¡Œç›¸å…³çš„ä¿¡æ¯ã€‚ TaskService: ä»»åŠ¡æœåŠ¡ç±»ï¼Œå¯ä»¥ä»Žè¿™ä¸ªç±»ä¸­èŽ·å–ä»»åŠ¡çš„ä¿¡æ¯ã€‚ FormService: è¡¨å•Servcieï¼Œç”¨äºŽè¯»å–æµç¨‹ã€ä»»åŠ¡ç›¸å…³çš„è¡¨å•æ•°æ®ã€‚ HistoryService: æŸ¥è¯¢åŽ†å²ä¿¡æ¯çš„ç±»ï¼Œåœ¨ä¸€ä¸ªæµç¨‹æ‰§è¡Œå®ŒæˆåŽï¼Œè¿™ä¸ªå¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›æŸ¥è¯¢åŽ†å²ä¿¡æ¯ï¼Œä¾‹å¦‚æµç¨‹å®žä¾‹ã€ä»»åŠ¡ã€æ´»åŠ¨ã€å˜é‡ã€é™„ä»¶ã€‚ ManagementServiceå¼•æ“Žç®¡ç†Serviceï¼Œå’Œå…·ä½“ä¸šåŠ¡æ— å…³ï¼Œä¸»è¦å¯ä»¥æŸ¥è¯¢å¼•æ“Žé…ç½®ã€æ•°æ®åº“ã€ä½œä¸šç­‰ã€‚ å­¦ä¹ çŸ¥è¯†æœ€å¥½å…ˆå¯¹åŸºç¡€çš„æ¦‚å¿µæœ‰ä¸ªåˆæ­¥çš„è®¤è¯†ï¼Œè¿™æ–¹ä¾¿åœ¨åŽç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­æ›´å¥½çš„ç†è§£è¿™äº›æ¦‚å¿µã€‚åœ¨å¯¹Activitiæœ‰äº†åˆæ­¥çš„å°è±¡åŽï¼Œä¸‹é¢é€šè¿‡åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­è¿›ä¸€æ­¥ç†Ÿæ‚‰Activitiå·¥ä½œæµã€‚ 4ã€å¼€å§‹ä½¿ç”¨Activitié»˜è®¤ä½¿ç”¨è‡ªå¸¦çš„H2å†…å­˜æ•°æ®åº“ï¼Œè€Œå®žé™…ç”Ÿäº§çŽ¯å¢ƒä¸­ä½¿ç”¨Oracleæˆ–mysqlå±…å¤šï¼Œè¿™é‡Œé…ç½®ä¸ºoracleæ•°æ®åº“ã€‚ 4.1 åœ¨é¡¹ç›®é‡Œå¼•å…¥ç›¸å…³jarè¿™é‡Œå°†Springé›†æˆåŒ…ä¹Ÿå¼•å…¥è¿›æ¥äº†ï¼Œè¿™æ˜¯ç”Ÿäº§çŽ¯å¢ƒå¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ã€‚ä¸éœ€è¦çš„å¯ä»¥å°†activiti-springå¼•ç”¨åŒ…åŽ»æŽ‰ã€‚123456789101112131415&lt;dependency&gt; &lt;groupId&gt;org.activiti&lt;/groupId&gt; &lt;artifactId&gt;activiti-engine&lt;/artifactId&gt; &lt;version&gt;5.22.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.activiti&lt;/groupId&gt; &lt;artifactId&gt;activiti-spring&lt;/artifactId&gt; &lt;version&gt;5.22.0&lt;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.7.6&lt;/version&gt;&lt;/dependency&gt; 4.2 å®‰è£…Activitiæ•°æ®åº“Activitiæ¡†æž¶æ‹¥æœ‰è‡ªåŠ¨å»ºè¡¨åŠŸèƒ½ï¼Œåœ¨åˆ›å»ºæµç¨‹å¼•æ“Žå¯¹è±¡çš„æ—¶å€™ä¼šåœ¨æ•°æ®åº“ä¸­è‡ªåŠ¨åˆ›å»ºè¡¨ã€‚ 4.2.1 ä¸ä½¿ç”¨é…ç½®æ–‡ä»¶æµ‹è¯•ä»£ç ï¼š12345678910public void intiProcessEngine() &#123; // èŽ·å–æµç¨‹å¼•æ“Ž ProcessEngine processEngine = new StandaloneProcessEngineConfiguration() .setJdbcUrl("jdbc:oracle:thin:@172.16.58.17:1521:orcl") .setJdbcUsername("activiti") .setJdbcPassword("111111") .setJdbcDriver("oracle.jdbc.driver.OracleDriver") .setDatabaseSchemaUpdate(ProcessEngineConfiguration.DB_SCHEMA_UPDATE_TRUE) .buildProcessEngine(); &#125; 4.2.2 ä½¿ç”¨activiti.cfg.xmlé…ç½®æ–‡ä»¶åœ¨classpathä¸‹åˆ›å»ºactiviti.cfg.xmlé…ç½®æ–‡ä»¶ï¼ˆåç§°éšæ„ï¼Œåªè¦èƒ½è®¿é—®åˆ°å³å¯ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jee="http://www.springframework.org/schema/jee" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd"&gt; &lt;!-- é…ç½®æµç¨‹å¼•æ“Žé…ç½®å¯¹è±¡ --&gt; &lt;bean id="processEngineConfiguration" class="org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration"&gt; &lt;property name="jdbcUrl" value="jdbc:oracle:thin:@172.16.58.17:1521:orcl"/&gt; &lt;property name="jdbcDriver" value="oracle.jdbc.driver.OracleDriver" /&gt; &lt;property name="jdbcUsername" value="activiti" /&gt; &lt;property name="jdbcPassword" value="111111" /&gt; &lt;property name="databaseSchemaUpdate" value="true" /&gt; &lt;property name="jobExecutorActivate" value="false" /&gt; &lt;/bean&gt; &lt;bean id="processEngine" class="org.activiti.spring.ProcessEngineFactoryBean"&gt; &lt;property name="processEngineConfiguration" ref="processEngineConfiguration" /&gt; &lt;/bean&gt; &lt;bean id="repositoryService" factory-bean="processEngine" factory-method="getRepositoryService" /&gt; &lt;bean id="runtimeService" factory-bean="processEngine" factory-method="getRuntimeService" /&gt; &lt;bean id="taskService" factory-bean="processEngine" factory-method="getTaskService" /&gt; &lt;bean id="formService" factory-bean="processEngine" factory-method="getFormService" /&gt; &lt;bean id="historyService" factory-bean="processEngine" factory-method="getHistoryService" /&gt; &lt;bean id="managementService" factory-bean="processEngine" factory-method="getManagementService" /&gt; &lt;bean id="identityService" factory-bean="processEngine" factory-method="getIdentityService" /&gt;&lt;/beans&gt; æµ‹è¯•ä»£ç ï¼š12345public void intiProcessEngine() &#123; // èŽ·å–æµç¨‹å¼•æ“Ž ProcessEngineConfiguration pec = ProcessEngineConfiguration.createProcessEngineConfigurationFromResource("activiti.cfg.xml"); processEngine = pec.buildProcessEngine();&#125; 4.2.3 ä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶é…ç½®æ–‡ä»¶è¦æ±‚é…ç½®æ–‡ä»¶åç§°å¿…é¡»ä¸ºactiviti-context.xmlæˆ–è€…activiti.cfg.xmlå› ä¸º,å› ä¸ºé»˜è®¤çš„é…ç½®ProcessEngines.getDefaultProcessEngine();ä¼šåˆå§‹åŒ–è¿™ä¸¤ä¸ªæ–‡ä»¶çš„å…¶ä¸­ä¸€ä¸ª. æµ‹è¯•ä»£ç ï¼š123public void intiProcessEngine() &#123; ProcessEngine processEngine =ProcessEngines.getDefaultProcessEngine();&#125; 4.3 å¼€å‘çŽ¯å¢ƒæ­å»º|Eclipseæ’ä»¶å®‰è£… é€šè¿‡ç½‘å€ï¼š[https://www.activiti.org/designer/archived/activiti-designer-5.18.0.zip] ä¸‹è½½ç¦»çº¿å®‰è£…åŒ…ã€‚ å°†ç¦»çº¿å®‰è£…åŒ…è§£åŽ‹ç¼©ï¼Œå°†åŒ…ä¸­çš„å†…å®¹æ”¾å…¥eclipseæ ¹ç›®å½•çš„dropinsæ–‡ä»¶å¤¹ä¸‹ï¼Œé‡å¯eclipseã€‚ å®‰è£…æˆåŠŸåŽï¼Œæ‰“å¼€èœå•Preferences-&gt;Activiti-&gt;Save Actionï¼Œå‹¾é€‰æµç¨‹å›¾ç‰‡çš„ç”Ÿæˆæ–¹å¼ä¸ºå½“ä¿å­˜æµç¨‹è®¾è®¡å›¾æ—¶ã€‚]]></content>
      <categories>
        <category>Activitiå·¥ä½œæµ</category>
      </categories>
      <tags>
        <tag>Activiti</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Hexoåœ¨Githubä¸Šæ­å»ºä¸ªäººBlog]]></title>
    <url>%2F2017%2F09%2F21%2F%E4%BD%BF%E7%94%A8Hexo%E5%9C%A8Github%E4%B8%8A%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%2F</url>
    <content type="text"><![CDATA[äº²æ‰‹åˆ›é€ çš„ä¸œè¥¿æ€»ä¼šå¸¦ç»™è‡ªå·±æ— ä»¥è¨€è¡¨çš„å–œæ‚¦ï¼Œè€Œä¸”ä¹Ÿä¼šè®©ä½ æ›´åŠ çæƒœã€‚æƒ³çŸ¥é“è¿™ä¸ªåšå®¢æ˜¯æ€Žä¹ˆæ¥çš„å—ï¼Ÿä¸‹é¢å°±ç»™å¤§å®¶å±•ç¤ºä¸‹è¿™ä¸ªåšå®¢çš„åˆ›å»ºè¿‡ç¨‹ã€‚ åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ å¿…é¡»è¦æœ‰ä¸€ä¸ªGithubè´¦å·,å¦‚æžœè¿˜æ²¡æœ‰è¯·åŽ»å®˜ç½‘æ³¨å†ŒGithubã€‚å¦å¤–ï¼Œç¡®è®¤æœ¬åœ°å·²ç»å®‰è£…å¥½gitå’Œnpm,å¦‚æžœæ²¡æœ‰è¯·è®¿é—®Hexoå®˜ç½‘ï¼Œå®˜ç½‘ä¸Šæœ‰å¯¹Hexoå®‰è£…åŠä½¿ç”¨çš„è¯¦ç»†ä»‹ç»ï¼ŒåŒ…æ‹¬gitå’Œnpmçš„å®‰è£…æŒ‡å¯¼ã€‚è¿™é‡Œåªä»‹ç»Blogæ­å»ºè¿‡ç¨‹ã€‚ 1.Github PagesGithub Pagesæ˜¯ä¸€ä¸ªé™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œå¯ä»¥æŠŠGithub repositoryé‡Œçš„ä¸ªäººç«™ç‚¹é¡µé¢ç›´æŽ¥æ‰˜ç®¡åˆ°ä¸Šé¢ã€‚ åœ¨æµè§ˆå™¨ä¸­ç™»å½• Githubï¼Œåˆ›å»ºä¸€ä¸ªRepoï¼Œåç§°æ ¼å¼ä¸ºyourname.github.ioï¼ˆæ³¨æ„å¿…é¡»è¦ä»¥github.ioç»“å°¾ï¼‰ 2.å®‰è£…Hexoå†ç¡®è®¤æœ¬åœ°å®‰è£…äº†gitå’ŒnpmåŽï¼ŒTerminalé‡Œè¾“å…¥ï¼š12npm install -g hexonpm install -g hexo-cli 3.åˆå§‹åŒ–æœ¬åœ°ç«™ç‚¹123hexo init &lt;folder&gt;cd &lt;folder&gt;npm instll &lt;folder&gt;æ˜¯ä½ å»ºç«‹çš„æ–‡ä»¶å¤¹åç§°ï¼Œæˆ‘è¿™é‡Œæ˜¯zqhao.github.io ç»§ç»­åœ¨Terminalé‡Œæ‰§è¡Œ12hexo generatehexo server hexo server å¼€å¯æœ¬åœ°æœåŠ¡ï¼Œæµè§ˆå™¨ä¸­æ•²å…¥http://localhost:4000/ çœ‹çœ‹ç½‘ç«™åˆå§‹çš„æ ·å­ã€‚ 4.å…³è”GithubTerminal cdåˆ°&lt;folder&gt;ä¸‹ï¼Œä½¿ç”¨vimå‘½ä»¤æ‰“å¼€_config.ymlï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„Atomç¼–è¾‘å™¨ã€‚æ‰¾åˆ°deployé‚£ä¸€éƒ¨åˆ†ï¼Œæ”¹æˆï¼š123deployï¼š type: git repo: https://github.com/yourname/yourname.github.io.git å…¶ä¸­ï¼šyournameï¼Œæ”¹æˆä½ çš„Githubç”¨æˆ·åï¼Œrepoå¯¹åº”çš„åœ°å€åœ¨ç¬¬1æ­¥å»ºä»“åº“çš„åœ°æ–¹èŽ·å–ã€‚ æ³¨æ„ï¼šåœ¨é…ç½®æ‰€æœ‰çš„_config.ymlæ–‡ä»¶æ—¶ï¼Œåœ¨æ‰€æœ‰çš„å†’å·:åŽè¾¹éƒ½è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™æ‰§è¡Œhexoå‘½ä»¤ä¼šæŠ¥é”™ 5.éƒ¨ç½²åˆ°Githubä¸Š12hexo generatehexo deploy å¦‚è¿‡ä¹‹å‰æœªå…³è”è¿‡Githubï¼Œæ‰§è¡Œhexo deployçš„æ—¶å€™ä¼šæç¤ºä½ è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œæ‰§è¡ŒæˆåŠŸåŽï¼Œæµè§ˆå™¨ä¸­æ•²æ‰“åœ°å€http://yourname.github.ioï¼Œ yournameæ˜¯ä½ è‡ªå·±çš„Githubç”¨æˆ·åã€‚ 6.ä½¿ç”¨Markdownä¹¦å†™æ–‡ç« å¹¶å‘å¸ƒ Markdownæ˜¯ä¸€ç§ç®€åŒ–ç‰ˆçš„æ–‡å­—æ ‡è®°æ–¹å¼ï¼Œè¢«è®¾è®¡ç”¨æ¥ä½œä¸ºä¸€ç§ç½‘ç»œå†…å®¹çš„å†™ä½œç”¨è¯­è¨€ã€‚ä½ çš„yourname.github.ioç«™ç‚¹ä¸Šçš„æ–‡ç« ï¼Œå°±éœ€è¦ç”¨è¿™ç§è¯­è¨€ã€‚ Terminalé‡Œcdåˆ°&lt;folder&gt;ä¸‹æ‰§è¡Œï¼š 1hexo new &quot;filename&quot; åä¸ºfilename.mdçš„æ–‡ä»¶ä¼šå»ºåœ¨ç›®å½•&lt;forder&gt;/soruce/_postsä¸‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æŽ¥ç”¨ç¼–è¾‘å™¨åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹ç›´æŽ¥æ–°å»ºæ–‡ä»¶ï¼Œæ¯”å¦‚Atomã€‚ Terminalé‡Œæ‰§è¡Œï¼š 12hexo ghexo d ä»¥åŽä½ æƒ³å‘è¡¨åšå®¢æ–‡ç« çš„æ—¶å€™ï¼Œæ— éžå°±æ˜¯åœ¨_postsç›®å½•ä¸­åˆ›å»ºæ–°çš„ .md æ–‡ä»¶ï¼Œè€ŒåŽ hexo generateï¼Œä¹‹åŽå† hexo deploy. Markdownè¯­æ³•å¾ˆå°‘ï¼Œå®˜ç½‘çš„æ•™ç¨‹é€šä¿—æ˜“æ‡‚ï¼Œè¿™é‡Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œè¯·ç›´æŽ¥è¿›å…¥å®˜ç½‘å­¦ä¹ Markdown ï¼Œå°¤å…¶æ˜¯Github Flavored Markdownã€‚ è‡³æ­¤ç½‘ç«™åˆæ­¥æ­å»ºæˆåŠŸï¼Œä½†æ˜¯æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œç½‘ç«™å¾ˆç®€çº¦ï¼Œä½¿ç”¨ä¹Ÿä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”ç½‘ç«™é‡Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä¸‹é¢æˆ‘ä»¬å¯¹ç½‘ç«™åšäº›å®šåˆ¶ï¼Œä»¥ä¾¿è®©å®ƒå¥½çœ‹äº›ã€‚å½“ç„¶ï¼Œè¿™äº›å·¥ä½œå¯ä»¥é—²æš‡æ—¶é—´æ…¢æ…¢æžï¼Œæ…¢æ…¢æ¥ï¼Œè€å¿ƒä¸€ç‚¹ã€‚ 7.æ·»åŠ ssh keyåˆ°Github7.1 ç”Ÿæˆssh keyTerminalæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆrsa key pair,æ³¨æ„â€œâ€ä¸­çš„åœ°å€æ¢æˆä½ è‡ªå·±çš„ï¼Œæ˜¯æ³¨å†ŒGtihupçš„é‚®ç®±åœ°å€ã€‚ $ ssh-keygen -t rsa -C â€œhzqiangmac@gmail.comâ€ æ‰§è¡Œå®ŒåŽä¼šåœ¨è·¯å¾„~/.sshä¸‹ç”Ÿæˆid_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ã€‚ 7.2 å°†ssh keyæ·»åŠ åˆ°Githubä¸­æ‰“å¼€~/.ssh/id_rsa.pubæ–‡ä»¶ï¼Œé‡Œé¢çš„ä¿¡æ¯å³ä¸ºSSH key,å°†ä¿¡æ¯å…¨éƒ¨å¤åˆ¶ï¼Œç²˜è´´åˆ°Githubçš„Add SSH keyé¡µé¢ã€‚1Github--&gt;Settings--&gt;SSH and GPG keys--&gt;New SSH key Titleæ ‡é¢˜éšä¾¿èµ·ä¸ªåå­—ï¼Œæˆ‘çš„åå­—å°±æ˜¯ç½‘ç«™çš„åå­—zqhao.github.io,å°†ä¸Šé¢å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°keyé‡Œï¼Œä¿å­˜å³å¯ã€‚ 8.ç»‘å®šä¸ªäººåŸŸåæ­¤åšå®¢ç›®å‰ä½¿ç”¨çš„åŸŸåæ˜¯Githubæä¾›çš„äºŒçº§åŸŸåï¼Œä½ ä¹Ÿå¯ä»¥ç»‘å®šä¸ºè‡ªå·±çš„ä¸ªæ€§åŸŸåã€‚æˆ‘æ˜¯åœ¨é˜¿é‡Œä¸‡ç½‘è´­ä¹°çš„åŸŸåï¼Œå¹¶ä¸”å¯ç›´æŽ¥åœ¨å…¶ç½‘ç«™ä¸ŠåšåŸŸåè§£æžã€‚åšè¿‡ä½ ä¼šå‘çŽ°ï¼Œå¾ˆå¤šäº‹æƒ…å¹¶æ²¡æœ‰ä½ æƒ³è±¡çš„é‚£ä¹ˆå¤æ‚ï¼Œå¦‚æžœä½ æ²¡æœ‰å°è¯•è¿‡è¿™ä»¶äº‹ï¼Œé¼“åŠ±ä½ è¯•ç€åšä¸€ä¸‹ã€‚åŸŸåè´­ä¹°æˆåŠŸåŽï¼Œéœ€è¦å®žåè®¤è¯ï¼Œå›½å®¶è¦æ±‚å¿…é¡»è¦å®žåè®¤è¯ã€‚ 8.1æ·»åŠ CNAMEæ–‡ä»¶åœ¨åšå®¢æ ¹ç›®å½•ä¸‹&lt;forder&gt;/sourceæ–‡ä»¶å¤¹ä¸‹æ–°å»ºCNAMEæ–‡ä»¶ï¼Œæ³¨æ„æ²¡æœ‰åŽç¼€ï¼Œåœ¨é‡Œé¢æ·»åŠ ä½ è´­ä¹°çš„åŸŸåä¿¡æ¯ï¼Œä¿å­˜ã€‚Terminalé‡Œcdåˆ°&lt;forder&gt;ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œé‡æ–°éƒ¨ç½²ç½‘ç«™ï¼Œä»¥åŽæ¯æ¬¡å‘å¸ƒç½‘ç«™éƒ½éœ€è¦æ‰§è¡Œä¸€éè¯¥å‘½ä»¤ï¼š12hexo ghexo d å¦‚æžœéœ€è¦æ¸…ç©ºæœ¬åœ°ç¼“å­˜ï¼Œæ‰§è¡Œhexo clean,è¿™é‡Œä½¿ç”¨çš„hexo gå’Œhexo dæ˜¯ç¬¬5éƒ¨ä¸¤ä¸ªå‘½ä»¤çš„ç¼©å†™å½¢å¼ã€‚ 8.2ç»™Githubé¡¹ç›®æ·»åŠ åœ¨é¡¹ç›®çš„Settingsä¸­ï¼Œåœ¨Custom domainä¸­æ·»åŠ è‡ªå·±çš„åŸŸåï¼š 8.3åŸŸåè§£æžç™»å½•ä¸‡ç½‘ï¼Œåœ¨ä½ è´­ä¹°çš„åŸŸååŽè¾¹ç‚¹å‡»ï¼šè§£æž â€“&gt; æ·»åŠ è§£æž123è®°å½•ç±»åž‹ï¼šCNAMEä¸»æœºè®°å½•ï¼šå¡«å†™@æˆ–è€…ä¸å¡«å†™è®°å½•å€¼ï¼šyourname.github.io. (ä¸è¦å¿˜è®°æœ€åŽçš„`.`) ä¿å­˜ä¹‹åŽï¼Œå¯èƒ½éœ€è¦ç­‰ä¸€æ®µæ—¶é—´æ‰èƒ½ç”Ÿæ•ˆ,æµè§ˆå™¨ä¸­æ•²å…¥ä½ è´­ä¹°çš„åŸŸå,okï¼ç»“æŸã€‚ 9.å®‰è£…ä¸»é¢˜themeHexoå®˜ç½‘ä¸»é¢˜é‡Œæœ‰å¾ˆå¤šä¸»é¢˜ï¼ŒåŽ»ä¸Šé¢æ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„themeã€‚æˆ‘åœ¨æ­å»ºè¿™ä¸ªåšå®¢çš„æ—¶å€™ï¼Œç½‘ä¸Šæ‰¾çš„æ˜¯hexo-theme-nextï¼Œå®‰è£…æ­¥éª¤å¾ˆç®€å•ï¼Œç›´æŽ¥åŽ»å®˜ç½‘ä¸Šçœ‹å§ï¼Œå› ä¸ºä½ è¿˜éœ€è¦å®šåˆ¶å¾ˆå¤šä¸œè¥¿ï¼Œæ‰€ä»¥å°½æƒ…DIYå§ï¼ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç®—æ˜¯å¤§åŠŸå‘Šæˆäº†ï¼ŒåŽé¢è¦æŠŠç²¾åŠ›æ”¾åœ¨ä½¿ç”¨Markdownå†™ä½œä¸Šé¢ï¼Œå¤šå†™å†™æœ‰ç”¨çš„ä¸œè¥¿æ”¾åœ¨ä¸Šé¢ï¼Œè¿™æ ·ä½ çš„è¿™ä¸ªç½‘ç«™æ‰æ˜¯æœ‰ä»·å€¼çš„ï¼Œå¦‚æžœæ²¡æœ‰ä»€ä¹ˆå¥½çš„ç¼–è¾‘å™¨ï¼Œè¿™é‡ŒæŽ¨èAtomç¼–è¾‘å™¨ï¼Œåˆ«é—®æˆ‘é—®ä»€ä¹ˆæŽ¨èè¿™ä¸ªï¼Œç”¨ç”¨ä½ å°±çŸ¥é“äº†ï¼Œæœ€é‡è¦çš„æ˜¯é€‚åˆè‡ªå·±ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitä¸ŽGithub]]></title>
    <url>%2F2017%2F09%2F19%2FGit%E4%B8%8EGithub%2F</url>
    <content type="text"><![CDATA[å¤§å­¦çš„æ—¶å€™å°±å¬è¯´è¿‡Github,çŸ¥é“å¾ˆå¤šç¨‹åºå‘˜éƒ½åœ¨ä½¿ç”¨Githubï¼Œæ›´æ˜¯æœ‰å¾ˆå¤šå¤§ç¥žåœ¨ä¸Šé¢ï¼Œä¸èƒ½è¯´ä½¿ç”¨Githubçš„æ‰æ˜¯ä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹å¯ä»¥æ˜Žç¡®çš„æ˜¯ï¼Œgithubæ˜¯ç¨‹åºå‘˜ä¸–ç•Œçš„ç¤¾äº¤å¹³å°ï¼Œå¤§å®¶ç”¨å½¼æ­¤çš„è¯­è¨€é«˜æ•ˆäº¤æµï¼Œè¿™æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ï¼Œè€Œæƒ³è¦æˆä¸ºæŸä¸ªé¢†åŸŸçš„é«˜æ‰‹ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯æŒ‰ç…§é«˜æ‰‹çš„æ–¹å¼åŽ»ç”Ÿæ´»ï¼Œåœ¨ä»–ä»¬çš„èšé›†åœ°ç”Ÿæ´»ã€‚ ä¸€ç›´ä»¥æ¥éƒ½æ²¡æ€Žä¹ˆå¥½å¥½è®¤çœŸåšè¿‡ä¸€ä»¶äº‹ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥çš„ä¸¤å¹´é‡Œï¼Œæˆ‘æƒ³æŠŠæ‰€æœ‰è‡ªå·±æœªæ›¾åšè¿‡çš„ï¼Œå¯¹è‡ªå·±æˆé•¿æœ‰å¸®åŠ©çš„äº‹æƒ…åšä¸€éï¼Œä¸ºäº†æ‰¾å›žé‚£ä¸¢å¤±å·²ä¹…çš„è‡ªä¿¡ï¼Œä¹Ÿä¸ºäº†ç»™è‡ªå·±ä¸€ä¸ªäº¤ä»£ã€‚å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ã€‚ 1.åŸºç¡€æ¦‚å¿µä»€ä¹ˆæ˜¯Git Gitæ˜¯ä¸€ä¸ªå…è´¹å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼Œè¢«è®¾è®¡ç”¨äºŽå¿«é€Ÿå’Œé«˜æ•ˆå¤„ç†ä»»ä½•é¡¹ç›®ã€‚Gitå¾ˆå®¹æ˜“å­¦ä¹ ä¸”æœ‰ç€é—ªç”µèˆ¬çš„æ€§èƒ½ã€‚ ä»€ä¹ˆæ˜¯Github Githubæ˜¯ä¸€ä¸ªåŸºäºŽwebçš„Gitç‰ˆæœ¬æŽ§åˆ¶ä»“åº“å’ŒInternetæ‰˜ç®¡æœåŠ¡ï¼Œä¸»è¦ç”¨äºŽä»£ç ã€‚å®ƒæä¾›äº†Gitæ‰€æœ‰çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶å’Œæºä»£ç ç®¡ç†ï¼ˆåŠŸèƒ½ï¼‰ï¼Œå¹¶æ·»åŠ äº†è‡ªå·±çš„ç‰¹æ€§ã€‚å®ƒä¸ºæ¯ä¸ªé¡¹ç›®æä¾›äº†è®¿é—®æŽ§åˆ¶å’Œä¸€äº›åä½œç‰¹æ€§ï¼Œä¾‹å¦‚bugè·Ÿè¸ªã€ç‰¹æ€§è¯·æ±‚ã€ä»»åŠ¡ç®¡ç†ç­‰ã€‚ 2.åŸºæœ¬ç”¨æ³•äº†è§£äº†è¦å­¦ä¹ çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆåŽï¼Œé‚£ä¹ˆä¸‹é¢å°±å¼€å§‹å­¦ä¹ åŸºæœ¬çš„ç”¨æ³•ï¼š Gitåœ¨å®˜ç½‘ä¸Šæœ‰ä¸€ä¸ªç‰¹åˆ«å¥½çš„å…¥é—¨æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥è®¿é—®ç½‘ç«™ä¸Šå­¦ä¹ ï¼Œ30åˆ†é’Ÿè¶³å¤Ÿå…¥é—¨ï¼Œè¿™æ˜¯è¦ç”¨ä¸€è¾ˆå­çš„äº‹æƒ…ã€‚å€¼å¾—èŠ±æ—¶é—´å¥½å¥½å­¦ä¹ ä¸‹ï¼šhttps://try.github.io/levels/1/challenges/1 ã€‚åœ¨æ­¤ä¸å†å¤šè¯´ï¼Œè‹±æ–‡ä»‹ç»ä¸éš¾ç†è§£ï¼Œéœ€è¦çš„è¯å€ŸåŠ©è¾žå…¸ã€‚ä¸‹é¢åªå¯¹ä¸€äº›åŸºç¡€æ¦‚å¿µåšäº›è§£é‡Šï¼š staged: è¡¨ç¤ºæ–‡ä»¶å¤„äºŽå·²æš‚å­˜çš„å¯ä»¥æäº¤çš„çŠ¶æ€ã€‚ unstaged:è¡¨ç¤ºæ–‡ä»¶çš„æ”¹å˜è¿˜æœªæš‚å­˜ï¼Œå½“å‰çŠ¶æ€ä¸‹ä¸å¯ä»¥æäº¤ã€‚ untracked: æ–‡ä»¶ä¸åœ¨Gitçš„ç®¡ç†ä¸­ï¼Œè¿™é€šå¸¸ä»£è¡¨æ­¤æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚ deleted: æ–‡ä»¶åœ¨æœ¬åœ°å·²ç»åˆ é™¤æ­£ç­‰å¾…ä»ŽGitä¸Šåˆ é™¤ã€‚ Staging Area: å¯ä»¥ç†è§£ä¸ºå­˜æ”¾æ–‡ä»¶çš„åœ°æ–¹ï¼ˆæäº¤ç»™Gitä»“åº“ä¹‹å‰ï¼‰ã€‚ Commit: â€œcommitâ€å‘½ä»¤å¯ä»¥è§†ä½œä»“åº“çš„å¿«ç…§ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ›¾ç»åšè¿‡å¯¹æ–‡ä»¶çš„æ‰€æœ‰æ”¹å˜ï¼Œä¸ç®¡æ˜¯è‡ªå·±è¿˜æ˜¯åˆ«äººæ“ä½œçš„ï¼Œå®ƒå°±åƒä¸€ä¸ªæ—¶é—´çº¿ä¸€æ ·ï¼Œè®°å½•äº†æ‰€æœ‰çš„æ”¹å˜ã€‚ git remote: å°†æœ¬åœ°ä»“åº“ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ï¼ŒçœŸæ­£å®žçŽ°äº’è”ç½‘åä½œã€‚ git stash: éšè—ä½ è‡ªå·±çš„æ›´æ”¹ï¼Œgit stash applyåº”ç”¨ä½ çš„æ›´æ”¹ï¼Œä¸€èˆ¬ç”¨äºŽæ‹‰å–åˆ«äººpushçš„ä»£ç çš„æ—¶å€™ã€‚ å½“ç„¶ä¸€æ¬¡å­¦ä¹ ä¸å¯èƒ½ç«‹é©¬å°±èƒ½è®°ä½è¿™äº›å‘½ä»¤ï¼Œå¾ˆå¯èƒ½ç¬¬ä¸€æ¬¡æ­£ç¡®ç†è§£è¿™äº›æ¦‚å¿µéƒ½å¾ˆéš¾ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œè¿™å¹¶ä¸å½±å“æˆ‘ä»¬ç»§ç»­å‘å‰ï¼Œåœ¨ä»¥åŽä¸æ–­çš„å®žè·µçš„è¿‡ç¨‹ä¸­ä½ ä¼šæ…¢æ…¢ç†è§£è¿™äº›æ¦‚å¿µçš„ã€‚ Githubå®˜ç½‘ä¸Šä¹Ÿæœ‰ä¸ªå…¥é—¨çš„æ•™ç¨‹Hello worldï¼Œå¥½çš„å·¥å…·éƒ½æ˜¯åŠŸèƒ½å¼ºå¤§ã€ç®€å•æ˜“å­¦çš„ï¼Œæ‰€ä»¥è¯·ç»§ç»­å®žè·µï¼Œè¿™æ¬¡15é’Ÿå·¦å³ã€‚ã€‚https://guides.github.com/activities/hello-world/ã€‚ åŒæ ·ä¸‹é¢åªä»‹ç»æ¦‚å¿µï¼š å­¦ä¹ ä¸€æ ·çŸ¥è¯†æˆ–æŠ€èƒ½ï¼Œé¦–å…ˆå°±è¦æŽŒæ¡å¸¸ç”¨çš„æ¦‚å¿µï¼Œåˆšå¼€å§‹çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œéšç€å­¦ä¹ çš„ç»§ç»­æ·±å…¥ï¼Œåå¤å›žè¿‡å¤´æ¥çœ‹ï¼Œä¸æ–­æ€è€ƒç›´è‡³ç†è§£ã€‚è¿™å°±åƒçœ‹ä¹¦ä¸€æ ·ï¼Œä¼šéšç€å¾€åŽçœ‹çš„è¿‡ç¨‹ä¸­ï¼Œæ…¢æ…¢å¼€å§‹ç†è§£å‰é¢ä¸å¤ªæ˜Žç™½çš„åœ°æ–¹ã€‚ respository: ä»“åº“é€šå¸¸ç”¨äºŽç»„ç»‡ä¸€ä¸ªå·¥ç¨‹ï¼Œå¯ä»¥åŒ…å«ä»»ä½•ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œä½ çš„æƒ³æ³•ã€èµ„æºç”šè‡³å¯ä»¥åœ¨ä¸Šé¢ä¸Žå…¶ä»–äººåˆ†äº«å’Œè®¨è®ºã€‚ branch: åˆ†æ”¯å¯ä»¥è®©ä½ åœ¨åŒä¸€æ—¶é—´æ‹¥æœ‰åŒä¸€ä»“åº“çš„ä¸åŒç‰ˆæœ¬ï¼Œæ¯ä¸ªrespositoryéƒ½æœ‰ä¸€ä¸ªé»˜è®¤åˆ†æ”¯masterï¼Œä¸€èˆ¬ä½œä¸ºä¸»åˆ†æ”¯ã€‚åœ¨Githubä¸­ï¼Œbranchä¸€èˆ¬ç”¨æ¥ä¿®å¤bugå’Œåšäº›ã€‚åˆ†æ”¯æ˜¯Gitçš„æ ¸å¿ƒæ¦‚å¿µï¼Œæ•´ä¸ªGithubæµå°±æ˜¯åŸºäºŽæ­¤å®žçŽ°ã€‚æœªæ¥çš„å·¥ä½œï¼Œå½“å®Œæˆè¿™äº›å·¥ä½œåŽï¼Œå°±ä¼šå°†å­åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯é‡Œã€‚ pull request: æ‹‰è¯·æ±‚æ˜¯åœ¨Githubä¸Šåä½œçš„æ ¸å¿ƒï¼Œå½“ä½ æ‰“å¼€ä¸€ä¸ªæ‹‰è¯·æ±‚ï¼Œä½ æäº¤ä½ çš„æ”¹å˜å¹¶è¦æ±‚å…¶ä»–äººæŸ¥çœ‹ä½ æäº¤çš„ä¸œè¥¿å¹¶å°†å®ƒä»¬åˆå¹¶åˆ°ä»–ä»¬çš„åˆ†æ”¯ä¸­ã€‚æ‹‰è¯·æ±‚æ˜¾ç¤ºäº†æ¥è‡ªä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹çš„å·®å¼‚å’Œä¸åŒã€‚ åœ¨è¿™é‡Œç®€å•ä»‹ç»ä¸‹åœ¨Githubé‡Œæƒ³è¦è´¡çŒ®è‡ªå·±ä»£ç çš„æµç¨‹ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£pull requetï¼š 1.forkåˆ«äººçš„ä»“åº“ï¼Œç›¸å½“äºŽæ‹·è´ä¸€ä»½åˆ«äººçš„ä»£ç ï¼Œç„¶åŽcloneåˆ°æœ¬åœ°åˆ†æ”¯2.åšäº›bugä¿®å¤æˆ–æ·»åŠ æ–°åŠŸèƒ½ï¼Œç„¶åŽå‘èµ·pull requestç»™åŽŸä»“åº“ä½œè€…ï¼Œè®©ä»–çœ‹åˆ°ä½ çš„ä¿®æ”¹3.åŽŸä»“åº“ä½œè€…reviewè¿™äº›æ”¹å˜ï¼Œå¦‚æžœæ˜¯æ­£ç¡®çš„ï¼Œä»–å°±ä¼šå°†ä½ çš„è¿™äº›æ”¹å˜mergeåˆ°ä»–è‡ªå·±çš„åˆ†æ”¯ä¸­ è‡³æ­¤ï¼Œæ•´ä¸ªpull requestçš„è¿‡ç¨‹ç»“æŸï¼Œè¿™ä¹Ÿæ˜¯åœ¨Githubä¸Šä¸Žå…¶ä»–äººåä½œçš„æ ¸å¿ƒæµç¨‹ã€‚ 3.å…¶ä»– ä¹ å¾—ä»»ä½•æŠ€èƒ½çš„æœ€æ ¹æœ¬æŠ€å·§å°±æ˜¯é©¬ä¸Šå¼€å§‹åƒé‚£äº›å·²ç»ç²¾é€šè¿™ä¸ªæŠ€èƒ½çš„äººä¸€æ ·ç”Ÿæ´». æ‰€ä»¥è¯·ç»å¸¸ä½¿ç”¨Githubï¼Œæ²¡äº‹çš„æ—¶å€™ä¹Ÿåœ¨ä¸Šé¢é€›é€›ï¼Œä¹Ÿè®¸å°±æœ‰æ”¶èŽ·ã€‚]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†™åœ¨å¼€å§‹]]></title>
    <url>%2F2017%2F09%2F06%2F%E5%86%99%E5%9C%A8%E5%BC%80%E5%A7%8B%2F</url>
    <content type="text"><![CDATA[æ›¾ç»æƒ³ï¼Œæœ‰å°ç”µè„‘å°±å¼€å§‹å¥½å¥½å†™ä½œï¼Œæœ‰åŒè¿åŠ¨éž‹å°±å¼€å§‹å¥½å¥½è·‘æ­¥â€¦â€¦äºŽæ˜¯ä¸€å¤©ä¸€å¤©å°±è¿™ä¹ˆæ‹–ç€ï¼Œå› ä¸ºæ²¡ç”µè„‘æ²¡å¥½çš„è¿åŠ¨éž‹ï¼Œæ‰€ä»¥æ²¡å¼€å§‹è¡ŒåŠ¨ã€‚å°†å‡è®¾çš„å‰ææ²¡å®žçŽ°ï¼Œå½“åšè‡ªå·±ä¸è¡ŒåŠ¨çš„çš„ç†ç”±ã€‚æˆ‘æƒ³ç”Ÿæ´»åº”è¯¥æ˜¯ï¼Œå“ªæ€•æ®‹ç¼ºï¼Œä¹Ÿåº”è¯¥å³åˆ»å¼€å§‹å‡ºå‘ï¼Œä¸€æ­¥æ­¥å˜æˆè‡ªå·±ç†æƒ³çš„æ ·å­ã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>åˆå¿ƒ</tag>
      </tags>
  </entry>
</search>
